import{d as P,x as q,m as A,R as d,c as r,r as k,y as D,B as Z,a as h,g as t,w as i,o as s,k as a,h as e,C as j,j as F,G as E,F as b,H as G,S as C,Z as I,i as f,I as w,J as K,U as O,K as Q,L as W,N as $,P as M,Q as X,T as Y,q as ee,W as se}from"./index-9977ddb9.js";import{u as oe}from"./usePageTitle-b68a65f1.js";const te={class:"flow-runs__list"},ne={class:"flow-runs__list-controls"},le={class:"flow-runs__list-controls--right"},de=P({__name:"FlowRuns",setup(ae){const g=q(),c=A(),_=d(c.flowRuns.getFlowRunsCount,[{}]),S=r(()=>_.executed),x=r(()=>_.response===0),p=k(),V=D(p,1200),{filter:o,isCustomFilter:N}=Z({flowRuns:{nameLike:V}}),m={interval:3e4},R=d(c.flowRuns.getFlowRunsCount,[o],m),B=r(()=>R.response),H=d(c.ui.getFlowRunHistory,[o],m),T=r(()=>H.response??[]),y=d(c.flowRuns.getFlowRuns,[o],m),v=r(()=>y.response??[]),n=k([]);function U(){g.push(se.flowRuns())}const J=()=>{n.value=[],y.refresh(),R.refresh()};return oe("Flow Runs"),(ue,l)=>{const L=h("p-button"),z=h("p-layout-default");return s(),t(z,{class:"flow-runs"},{header:i(()=>[a(e(j))]),default:i(()=>[S.value?(s(),F(b,{key:0},[x.value?(s(),t(e(E),{key:0})):(s(),F(b,{key:1},[a(e(G)),e(C).md?(s(),t(e(I),{key:0,history:T.value,"start-date":e(o).flowRuns.expectedStartTimeAfter,"end-date":e(o).flowRuns.expectedStartTimeBefore,class:"flow-runs__chart"},null,8,["history","start-date","end-date"])):f("",!0),w("div",te,[w("div",ne,[w("div",le,[n.value.length==0?(s(),t(e(K),{key:0,count:B.value,label:"Flow run"},null,8,["count"])):(s(),t(e(O),{key:1,count:n.value.length},null,8,["count"])),a(e(Q),{selected:n.value,onDelete:J},null,8,["selected"])]),e(C).md?(s(),t(e(W),{key:0,modelValue:p.value,"onUpdate:modelValue":l[0]||(l[0]=u=>p.value=u),placeholder:"Search by run name",label:"Search by run name"},null,8,["modelValue"])):f("",!0),a(e($),{modelValue:e(o).sort,"onUpdate:modelValue":l[1]||(l[1]=u=>e(o).sort=u)},null,8,["modelValue"])]),a(e(M),{selected:n.value,"onUpdate:selected":l[2]||(l[2]=u=>n.value=u),"flow-runs":v.value},null,8,["selected","flow-runs"]),v.value.length?f("",!0):(s(),t(e(X),{key:0},Y({_:2},[e(N)?{name:"actions",fn:i(()=>[a(L,{size:"sm",secondary:"",onClick:U},{default:i(()=>[ee(" Clear Filters ")]),_:1})]),key:"0"}:void 0]),1024))])],64))],64)):f("",!0)]),_:1})}}});export{de as default};
