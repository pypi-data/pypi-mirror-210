define("nbextensions/ipyflow/index",[],(()=>(()=>{var e={760:(e,n,o)=>{"use strict";o.r(n),o.d(n,{default:()=>i});var t=o(15),l=o.n(t),r=o(645),c=o.n(r)()(l());c.push([e.id,":root {\n  --waiting-color: rgb(254,0,82);\n  --ready-making-color: rgb(0,197,158);\n}\n\n.cell.code_cell .out_prompt_overlay::before {\n  position: absolute;\n  display: block;\n  top: 3px;\n  left: -6px;\n  width: 5px;\n  height: calc(100% + 2px);\n  content: '';\n}\n\n.cell.code_cell .input_prompt::before {\n  position: absolute;\n  display: block;\n  top: -1px;\n  left: -1px;\n  width: 5px;\n  height: calc(100% + 2px);\n  content: '';\n}\n\n.cell.code_cell.waiting-cell .input_prompt::before {\n  border: 1px solid var(--waiting-color);\n}\n\n.cell.code_cell.waiting-cell.selected .input_prompt::before, .waiting-cell.jupyter-soft-selected .input_prompt::before {\n  background-color: var(--waiting-color);\n}\n\n.cell.code_cell.waiting-cell .input_prompt:hover::before {\n  background-color: var(--waiting-color);\n}\n\n.cell.code_cell.linked-waiting .input_prompt::before {\n  background-color: var(--waiting-color);\n}\n\n.cell.code_cell.linked-ready .out_prompt_overlay::before {\n  background-color: var(--waiting-color);\n}\n\n.cell.code_cell.ready-making-cell .input_prompt::before {\n  border: 1px solid var(--ready-making-color);\n}\n\n.cell.code_cell.ready-making-cell.selected .input_prompt::before, .cell.code_cell.ready-making-cell.jupyter-soft-selected .input_prompt::before {\n  background-color: var(--ready-making-color);\n}\n\n.cell.code_cell.ready-making-cell .input_prompt:hover::before {\n  background-color: var(--ready-making-color);\n}\n\n.cell.code_cell.linked-ready-making .input_prompt::before {\n  background-color: var(--ready-making-color);\n}\n\n/* put input / output cells later since they should take precedence */\n\n.cell.code_cell.ready-cell .out_prompt_overlay::before {\n  border: 1px solid var(--waiting-color);\n}\n\n.cell.code_cell.ready-cell.selected .out_prompt_overlay::before, .cell.code_cell.ready-cell.jupyter-soft-selected .out_prompt_overlay::before {\n  background-color: var(--waiting-color);\n}\n\n.cell.code_cell.ready-cell .out_prompt_overlay:hover::before {\n  background-color: var(--waiting-color);\n}\n\n.cell.code_cell.ready-making-input-cell .input_prompt::before {\n  border: 1px solid var(--ready-making-color);\n}\n\n.cell.code_cell.ready-making-input-cell.selected .input_prompt::before, .cell.code_cell.ready-making-input-cell.jupyter-soft-selected .input_prompt::before {\n  background-color: var(--ready-making-color);\n}\n\n.cell.code_cell.ready-making-input-cell .input_prompt:hover::before {\n  background-color: var(--ready-making-color);\n}\n","",{version:3,sources:["webpack://./style/index.css"],names:[],mappings:"AAAA;EACE,8BAA8B;EAC9B,oCAAoC;AACtC;;AAEA;EACE,kBAAkB;EAClB,cAAc;EACd,QAAQ;EACR,UAAU;EACV,UAAU;EACV,wBAAwB;EACxB,WAAW;AACb;;AAEA;EACE,kBAAkB;EAClB,cAAc;EACd,SAAS;EACT,UAAU;EACV,UAAU;EACV,wBAAwB;EACxB,WAAW;AACb;;AAEA;EACE,sCAAsC;AACxC;;AAEA;EACE,sCAAsC;AACxC;;AAEA;EACE,sCAAsC;AACxC;;AAEA;EACE,sCAAsC;AACxC;;AAEA;EACE,sCAAsC;AACxC;;AAEA;EACE,2CAA2C;AAC7C;;AAEA;EACE,2CAA2C;AAC7C;;AAEA;EACE,2CAA2C;AAC7C;;AAEA;EACE,2CAA2C;AAC7C;;AAEA,qEAAqE;;AAErE;EACE,sCAAsC;AACxC;;AAEA;EACE,sCAAsC;AACxC;;AAEA;EACE,sCAAsC;AACxC;;AAEA;EACE,2CAA2C;AAC7C;;AAEA;EACE,2CAA2C;AAC7C;;AAEA;EACE,2CAA2C;AAC7C",sourcesContent:[":root {\n  --waiting-color: rgb(254,0,82);\n  --ready-making-color: rgb(0,197,158);\n}\n\n.cell.code_cell .out_prompt_overlay::before {\n  position: absolute;\n  display: block;\n  top: 3px;\n  left: -6px;\n  width: 5px;\n  height: calc(100% + 2px);\n  content: '';\n}\n\n.cell.code_cell .input_prompt::before {\n  position: absolute;\n  display: block;\n  top: -1px;\n  left: -1px;\n  width: 5px;\n  height: calc(100% + 2px);\n  content: '';\n}\n\n.cell.code_cell.waiting-cell .input_prompt::before {\n  border: 1px solid var(--waiting-color);\n}\n\n.cell.code_cell.waiting-cell.selected .input_prompt::before, .waiting-cell.jupyter-soft-selected .input_prompt::before {\n  background-color: var(--waiting-color);\n}\n\n.cell.code_cell.waiting-cell .input_prompt:hover::before {\n  background-color: var(--waiting-color);\n}\n\n.cell.code_cell.linked-waiting .input_prompt::before {\n  background-color: var(--waiting-color);\n}\n\n.cell.code_cell.linked-ready .out_prompt_overlay::before {\n  background-color: var(--waiting-color);\n}\n\n.cell.code_cell.ready-making-cell .input_prompt::before {\n  border: 1px solid var(--ready-making-color);\n}\n\n.cell.code_cell.ready-making-cell.selected .input_prompt::before, .cell.code_cell.ready-making-cell.jupyter-soft-selected .input_prompt::before {\n  background-color: var(--ready-making-color);\n}\n\n.cell.code_cell.ready-making-cell .input_prompt:hover::before {\n  background-color: var(--ready-making-color);\n}\n\n.cell.code_cell.linked-ready-making .input_prompt::before {\n  background-color: var(--ready-making-color);\n}\n\n/* put input / output cells later since they should take precedence */\n\n.cell.code_cell.ready-cell .out_prompt_overlay::before {\n  border: 1px solid var(--waiting-color);\n}\n\n.cell.code_cell.ready-cell.selected .out_prompt_overlay::before, .cell.code_cell.ready-cell.jupyter-soft-selected .out_prompt_overlay::before {\n  background-color: var(--waiting-color);\n}\n\n.cell.code_cell.ready-cell .out_prompt_overlay:hover::before {\n  background-color: var(--waiting-color);\n}\n\n.cell.code_cell.ready-making-input-cell .input_prompt::before {\n  border: 1px solid var(--ready-making-color);\n}\n\n.cell.code_cell.ready-making-input-cell.selected .input_prompt::before, .cell.code_cell.ready-making-input-cell.jupyter-soft-selected .input_prompt::before {\n  background-color: var(--ready-making-color);\n}\n\n.cell.code_cell.ready-making-input-cell .input_prompt:hover::before {\n  background-color: var(--ready-making-color);\n}\n"],sourceRoot:""}]);const i=c},645:e=>{"use strict";e.exports=function(e){var n=[];return n.toString=function(){return this.map((function(n){var o=e(n);return n[2]?"@media ".concat(n[2]," {").concat(o,"}"):o})).join("")},n.i=function(e,o,t){"string"==typeof e&&(e=[[null,e,""]]);var l={};if(t)for(var r=0;r<this.length;r++){var c=this[r][0];null!=c&&(l[c]=!0)}for(var i=0;i<e.length;i++){var a=[].concat(e[i]);t&&l[a[0]]||(o&&(a[2]?a[2]="".concat(o," and ").concat(a[2]):a[2]=o),n.push(a))}},n}},15:e=>{"use strict";function n(e,n){(null==n||n>e.length)&&(n=e.length);for(var o=0,t=new Array(n);o<n;o++)t[o]=e[o];return t}e.exports=function(e){var o,t,l=(t=4,function(e){if(Array.isArray(e))return e}(o=e)||function(e,n){var o=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=o){var t,l,r=[],c=!0,i=!1;try{for(o=o.call(e);!(c=(t=o.next()).done)&&(r.push(t.value),!n||r.length!==n);c=!0);}catch(e){i=!0,l=e}finally{try{c||null==o.return||o.return()}finally{if(i)throw l}}return r}}(o,t)||function(e,o){if(e){if("string"==typeof e)return n(e,o);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?n(e,o):void 0}}(o,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),r=l[1],c=l[3];if(!c)return r;if("function"==typeof btoa){var i=btoa(unescape(encodeURIComponent(JSON.stringify(c)))),a="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(i),s="/*# ".concat(a," */"),d=c.sources.map((function(e){return"/*# sourceURL=".concat(c.sourceRoot||"").concat(e," */")}));return[r].concat(d).concat([s]).join("\n")}return[r].join("\n")}},549:(e,n,o)=>{var t=o(379),l=o(760);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[e.id,l,""]]);t(l,{insert:"head",singleton:!1}),e.exports=l.locals||{}},379:(e,n,o)=>{"use strict";var t,l=function(){var e={};return function(n){if(void 0===e[n]){var o=document.querySelector(n);if(window.HTMLIFrameElement&&o instanceof window.HTMLIFrameElement)try{o=o.contentDocument.head}catch(e){o=null}e[n]=o}return e[n]}}(),r=[];function c(e){for(var n=-1,o=0;o<r.length;o++)if(r[o].identifier===e){n=o;break}return n}function i(e,n){for(var o={},t=[],l=0;l<e.length;l++){var i=e[l],a=n.base?i[0]+n.base:i[0],s=o[a]||0,d="".concat(a," ").concat(s);o[a]=s+1;var u=c(d),p={css:i[1],media:i[2],sourceMap:i[3]};-1!==u?(r[u].references++,r[u].updater(p)):r.push({identifier:d,updater:m(p,n),references:1}),t.push(d)}return t}function a(e){var n=document.createElement("style"),t=e.attributes||{};if(void 0===t.nonce){var r=o.nc;r&&(t.nonce=r)}if(Object.keys(t).forEach((function(e){n.setAttribute(e,t[e])})),"function"==typeof e.insert)e.insert(n);else{var c=l(e.insert||"head");if(!c)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");c.appendChild(n)}return n}var s,d=(s=[],function(e,n){return s[e]=n,s.filter(Boolean).join("\n")});function u(e,n,o,t){var l=o?"":t.media?"@media ".concat(t.media," {").concat(t.css,"}"):t.css;if(e.styleSheet)e.styleSheet.cssText=d(n,l);else{var r=document.createTextNode(l),c=e.childNodes;c[n]&&e.removeChild(c[n]),c.length?e.insertBefore(r,c[n]):e.appendChild(r)}}function p(e,n,o){var t=o.css,l=o.media,r=o.sourceMap;if(l?e.setAttribute("media",l):e.removeAttribute("media"),r&&"undefined"!=typeof btoa&&(t+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}var _=null,f=0;function m(e,n){var o,t,l;if(n.singleton){var r=f++;o=_||(_=a(n)),t=u.bind(null,o,r,!1),l=u.bind(null,o,r,!0)}else o=a(n),t=p.bind(null,o,n),l=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(o)};return t(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap)return;t(e=n)}else l()}}e.exports=function(e,n){(n=n||{}).singleton||"boolean"==typeof n.singleton||(n.singleton=(void 0===t&&(t=Boolean(window&&document&&document.all&&!window.atob)),t));var o=i(e=e||[],n);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var t=0;t<o.length;t++){var l=c(o[t]);r[l].references--}for(var a=i(e,n),s=0;s<o.length;s++){var d=c(o[s]);0===r[d].references&&(r[d].updater(),r.splice(d,1))}o=a}}}}},n={};function o(t){var l=n[t];if(void 0!==l)return l.exports;var r=n[t]={id:t,exports:{}};return e[t](r,r.exports,o),r.exports}o.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return o.d(n,{a:n}),n},o.d=(e,n)=>{for(var t in n)o.o(n,t)&&!o.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:n[t]})},o.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.nc=void 0;var t={};return(()=>{"use strict";o.r(t),o(549);const e="waiting-cell",n="ready-cell",l="ready-making-cell",r="ready-making-input-cell",c="linked-waiting",i="linked-ready",a="linked-ready-making",s=new Event("cleanup");let d=new Set,u=new Set,p={},_={},f=null,m=null,A=null,v={},b={},y={},g=null,C=null,k=null,h=!1,E=!1,w=null,x=new Set,S=new Set,j=new Set;function L(e){return null===e||null===e.firstElementChild||null===e.firstElementChild.firstElementChild?null:e.firstElementChild.firstElementChild.firstElementChild}function B(e){return null===e||null===e.children.item(1)?null:e.children.item(1).firstElementChild}const O=(e,n,o)=>{const t=()=>{e.removeEventListener(n,o),e.removeEventListener("cleanup",t)};e.addEventListener(n,o),e.addEventListener("cleanup",t)};function U(e,n,o,t,l){null!==e&&O(e,o,(()=>{n.classList[t](l)}))}function M(e){U(L(e),e,"mouseover","add",i),U(L(e),e,"mouseout","remove",i),U(B(e),e,"mouseover","add",a),U(B(e),e,"mouseout","remove",a)}function T(e,n,o,t,l,r){const c=()=>{for(const e of n)o[e].classList[l](r)};e.addEventListener(t,c),O(e,t,c)}function R(e){v={},b={},y={},e.notebook.get_cells().forEach(((e,n)=>{v[e.cell_id]=e.element[0],b[e.cell_id]=e,y[e.cell_id]=n}))}function I(o){const t=o.element[0];t.classList.remove(e),t.classList.remove(l),t.classList.remove(n),t.classList.remove(r),t.classList.remove(c),t.classList.remove(i),t.classList.remove(a);const d=L(t);null!==d&&d.dispatchEvent(s);const u=B(t);null!==u&&u.dispatchEvent(s)}function N(o){"none"!==w&&(R(o),o.notebook.get_cells().forEach((o=>{!function(o){I(o);const t=o.cell_id,s=o.element[0];d.has(t)?(s.classList.add(e),s.classList.add(n),s.classList.remove(r)):u.has(t)&&(s.classList.add(r),s.classList.add(n),M(s)),"reactive"!==k&&(Object.prototype.hasOwnProperty.call(p,t)&&function(e,n,o){T(L(e),n,o,"mouseover","add",a),T(B(e),n,o,"mouseover","add",a),T(L(e),n,o,"mouseout","remove",a),T(B(e),n,o,"mouseout","remove",a)}(s,p[t],v),Object.prototype.hasOwnProperty.call(_,t)&&(s.classList.add(l),s.classList.add(n),M(s),function(e,n,o){T(L(e),n,o,"mouseover","add",c),T(L(e),n,o,"mouseover","add",i),T(L(e),n,o,"mouseout","remove",c),T(L(e),n,o,"mouseout","remove",i)}(s,_[t],v)))}(o)})))}function P(e){const n={};return e.notebook.get_cells().forEach(((e,o)=>{"code"===e.cell_type&&(n[e.cell_id]={index:o,content:e.get_text(),type:e.cell_type})})),n}require(["base/js/namespace","notebook/js/codecell"],((e,o)=>{let t=function(){};e.notebook.events.on("spec_changed.Kernel",(()=>{t()})),e.notebook.events.on("kernel_restarting.Kernel",(()=>{t()})),e.notebook.events.on("kernel_ready.Kernel",(()=>{t="ipyflow"===e.notebook.kernel.name?function(e,o){let t=!1;const l=e.notebook.kernel.comm_manager.new_comm("ipyflow",{interface:"jupyter"}),c=(o,i)=>{t?e.notebook.events.unbind("execute.CodeCell",c):i.cell.notebook===e.notebook&&(i.cell.element[0].classList.remove(n),i.cell.element[0].classList.remove(r),l.send({type:"compute_exec_schedule",executed_cell_id:i.cell.cell_id,cell_metadata_by_id:P(e)}))},i=(n,o)=>{t?e.notebook.events.unbind("select.Cell",i):null!=o.cell&&(e.notebook.get_cells().forEach(((e,n)=>{o.cell.cell_id===e.cell_id&&(f=o.cell,m=n)})),l.send({type:"change_active_cell",active_cell_id:o.cell.cell_id,active_cell_order_idx:m}))},a=()=>{t&&(e.notebook.events.unbind("create.Cell",a),e.notebook.events.unbind("delete.Cell",a),e.notebook.events.unbind("cut.Cell",a),e.notebook.events.unbind("copy.Cell",a),e.notebook.events.unbind("paste.Cell",a),e.notebook.events.unbind("move_up.Cell",a),e.notebook.events.unbind("move_down.Cell",a)),i(null,{cell:e.notebook.get_selected_cell()})};return l.on_msg((n=>{var o,r,s,v;const b=n.content.data;if(!t&&null!==(o=b.success)&&void 0!==o&&o)if("establish"===b.type){e.notebook.events.on("create.Cell",a),e.notebook.events.on("delete.Cell",a),e.notebook.events.on("cut.Cell",a),e.notebook.events.on("copy.Cell",a),e.notebook.events.on("paste.Cell",a),e.notebook.events.on("move_up.Cell",a),e.notebook.events.on("move_down.Cell",a),e.notebook.events.on("execute.CodeCell",c),e.notebook.events.on("select.Cell",i);const n=()=>{t||(l.send({type:"notify_content_changed",cell_metadata_by_id:P(e)}),setTimeout(n,2e3))};n();const o={help:"alt mode execute",help_index:"zz",handler:()=>{"code"===(null==f?void 0:f.cell_type)&&(a(),E&&e.notebook.kernel.execute("%flow toggle-reactivity-until-next-reset",{silent:!0,store_history:!1}),E=!0,e.notebook.kernel.execute("%flow toggle-reactivity-until-next-reset",{silent:!0,store_history:!1}),e.notebook.execute_cells([m]))}};e.keyboard_manager.command_shortcuts.add_shortcuts({"cmd-shift-enter":o,"ctrl-shift-enter":o}),e.keyboard_manager.edit_shortcuts.add_shortcuts({"cmd-shift-enter":o,"ctrl-shift-enter":o}),l.send({type:"compute_exec_schedule",cell_metadata_by_id:P(e),is_reactively_executing:h})}else if("set_exec_mode"===b.type)E=!1,k=b.exec_mode;else if("change_active_cell"===b.type){if(null!=C){const n=C;g=C=null,e.notebook.execute_cells([n])}}else if("compute_exec_schedule"===b.type){R(e),d=new Set(null!==(r=b.waiting_cells)&&void 0!==r?r:[]),u=new Set(null!==(s=b.ready_cells)&&void 0!==s?s:[]),S=new Set([...S,...b.new_ready_cells]),j=new Set([...j,...b.forced_reactive_cells]),p=b.waiter_links,_=b.ready_maker_links,g=null,C=null;const n=b.exec_mode;h=h||null!==(v=null==b?void 0:b.is_reactively_executing)&&void 0!==v&&v;const o=b.flow_order,t=b.exec_schedule;k=n,w=b.highlights;const c=b.last_executed_cell_id;if(x.add(c),!b.last_execution_was_error){let l=!1,r=!1;e.notebook.get_cells().forEach(((e,i)=>{if(!l&&(r||(r=e.cell_id===c,"in_order"!==o&&"strict"!==t))&&"code"===e.cell_type&&!x.has(e.cell_id)&&S.has(e.cell_id)&&(j.has(e.cell_id)||"reactive"===n))if(null==g){if(null==A&&(A=f),g=e,C=i,"in_order"===o||"strict"===t)return void(l=!0)}else null==e.input_prompt_number||e.input_prompt_number<g.input_prompt_number&&(g=e)}))}null==g?(h&&("reactive"===w&&(u=x),null!=A&&(e.notebook.events.trigger("select.Cell",{cell:A}),A=null),l.send({type:"reactivity_cleanup"})),j=new Set,S=new Set,x=new Set,N(e),h=!1,"reactive"===k&&(E=!1),a()):(h=!0,N(e),l.send({type:"change_active_cell",active_cell_id:g.cell_id,active_cell_order_idx:C}))}})),()=>{t=!0,function(e){e.notebook.get_cells().forEach((e=>{I(e)}))}(e)}}(e):function(){}}))}))})(),t})()));
//# sourceMappingURL=index.js.map