"use strict";(self.webpackChunk_splunk_ucc_ui_lib=self.webpackChunk_splunk_ucc_ui_lib||[]).push([[895],{895:(e,n,t)=>{t.r(n),t.d(n,{default:()=>ce});var r=t(67294),o=t(89250),i=t(71569),a=t.n(i),u=t(12788),c=t(41946),l=t.n(c),s=t(62672),f=t.n(s),p=t(36219),m=t(64255),d=t(71263),y=t(56057),b=t(6549),h=t(24843),g=t(99881),v=t(45697),j=t.n(v),S=t(96635),O=t.n(S),w=t(72725),x=t.n(w),P=t(27354),_=t.n(P),N=t(80720),C=t.n(N),I=t(79609),k=t(74266),R=t(85893);function T(e){return T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},T(e)}function E(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Z(r.key),r)}}function A(e,n){return A=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,n){return e.__proto__=n,e},A(e,n)}function q(e,n){if(n&&("object"===T(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return D(e)}function D(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function M(e){return M=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},M(e)}function L(e,n,t){return(n=Z(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function Z(e){var n=function(e,n){if("object"!==T(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!==T(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===T(n)?n:String(n)}var z=function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&A(e,n)}(a,e);var n,t,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=M(r);if(o){var t=M(this).constructor;e=Reflect.construct(n,arguments,t)}else e=n.apply(this,arguments);return q(this,e)});function a(e){var n;return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,a),L(D(n=i.call(this,e)),"setValue",(function(e){n.props.handleChange(e)})),L(D(n),"loadCustomMenu",(function(){return new Promise((function(e){if("external"===n.props.type)import("".concat((0,k.a)(),"/custom/").concat(n.props.fileName,".js")).then((function(n){var t=n.default;e(t)}));else{var t=(0,m.YK)().meta.name;require(["app/".concat(t,"/js/build/custom/").concat(n.props.fileName)],(function(n){return e(n)}))}}))})),n.state={loading:!0},n.shouldRender=!0,n}return n=a,(t=[{key:"componentDidMount",value:function(){var e=this,n=(0,m.YK)();this.setState({loading:!0}),this.loadCustomMenu().then((function(t){new t(n,e.el,e.setValue).render(),e.setState({loading:!1})}))}},{key:"shouldComponentUpdate",value:function(e,n){return!(n.loading||!this.shouldRender||(this.shouldRender=!1,0))}},{key:"render",value:function(){var e=this;return(0,R.jsxs)(R.Fragment,{children:[this.state.loading&&(0,p._)("Loading..."),(0,R.jsx)("span",{ref:function(n){e.el=n},style:{visibility:this.state.loading?"hidden":"visible"}})]})}}])&&E(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),a}(r.Component);z.propTypes={fileName:j().string.isRequired,type:j().string,handleChange:j().func};const B=z;var K=t(92246);function F(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i,a,u=[],c=!0,l=!1;try{if(i=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;c=!1}else for(;!(c=(r=i.call(t)).done)&&(u.push(r.value),u.length!==n);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(l)throw o}}return u}}(e,n)||function(e,n){if(e){if("string"==typeof e)return U(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?U(e,n):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function U(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function Y(e){var n=e.handleRequestOpen,t=F((0,r.useState)("main_panel"),2),o=t[0],i=t[1],a=F((0,r.useState)("forward"),2),u=a[0],c=a[1],l=F((0,r.useState)(!1),2),s=l[0],f=l[1],d=F((0,r.useState)(!0),2),y=d[0],b=d[1],h=(0,m.YK)().pages.inputs,g=h.services,v=h.menu,j=h.groupsMenu,S=["clickAway","escapeKey","offScreen","toggleClick"],w=(0,R.jsx)(K.Sn,{appearance:"primary",id:"addInputBtn",label:(0,p._)("Create New Input"),isMenu:!0});(0,r.useEffect)((function(){y||(f(!1),b(!0))}),[y]);var P=(0,r.useMemo)((function(){var e={main_panel:[]};return j?j.forEach((function(n){null!=n&&n.groupServices?(e[n.groupName]=[],n.groupServices.forEach((function(t){e[n.groupName].push({name:t,title:g.find((function(e){return e.name===t})).title,hasSubmenu:!1})})),e.main_panel.push({name:n.groupName,title:n.groupTitle,hasSubmenu:!0})):e.main_panel.push({name:n.groupName,title:n.groupTitle,hasSubmenu:!1})})):e.main_panel=g.map((function(e){return{name:e.name,title:e.title,hasSubmenu:!1}})),function(e){return Object.keys(e).map((function(t){return(0,R.jsx)(_().Panel,{panelId:t,children:(0,R.jsxs)(x(),{children:["main_panel"!==t&&(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(x().Item,{icon:(0,R.jsx)(C(),{}),onClick:function(){i("main_panel"),c("backward")},children:"Back"}),(0,R.jsx)(x().Divider,{})]}),(r=e[t],o=t,r.map((function(e){return null!=e&&e.hasSubmenu?(0,R.jsx)(x().Item,{hasSubmenu:!0,onClick:function(){i(e.name),c("forward")},children:e.title},e.name):(0,R.jsx)(x().Item,{onClick:function(){n(e.name,o),b(!1)},children:e.title},e.name)})))]})},t);var r,o}))}(e)}),[]);return!g||null!=v&&v.src?(0,R.jsx)(R.Fragment,{children:r.createElement(B,{fileName:v.src,type:v.type,handleChange:function(e){var t=e.service;n(t)}})}):1===g.length?(0,R.jsx)(K.Sn,{label:(0,I.P)(100),appearance:"primary",id:"addInputBtn",onClick:function(){n(g[0].name)}}):(0,R.jsx)(O(),{toggle:w,open:s,onRequestClose:function(e){var n=e.reason;f(!S.includes(n))},onRequestOpen:function(){f(!0)},children:(0,R.jsx)(_(),{activePanelId:o,transition:u,style:{width:"200px"},children:P})})}Y.propTypes={handleRequestOpen:j().func};const V=Y;var $,G=t(37588),H=t(5792),W=t(5496),J=t(63649),Q=t(94893);function X(e){return X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},X(e)}function ee(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function ne(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ee(Object(t),!0).forEach((function(n){te(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ee(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function te(e,n,t){return(n=function(e){var n=function(e,n){if("object"!==X(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!==X(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===X(n)?n:String(n)}(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function re(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i,a,u=[],c=!0,l=!1;try{if(i=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;c=!1}else for(;!(c=(r=i.call(t)).done)&&(u.push(r.value),u.length!==n);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(l)throw o}}return u}}(e,n)||function(e,n){if(e){if("string"==typeof e)return oe(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?oe(e,n):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oe(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var ie,ae,ue=(0,u.default)(a().Row)($||(ie=["\n    padding: 5px 0px;\n\n    .title_menu_column {\n        width: auto !important;\n    }\n\n    .page_subtitle {\n        min-height: 20px;\n    }\n\n    .dropdown {\n        text-align: right;\n    }\n"],ae||(ae=ie.slice(0)),$=Object.freeze(Object.defineProperties(ie,{raw:{value:Object.freeze(ae)}}))));const ce=function(){var e=re((0,r.useState)({open:!1}),2),n=e[0],t=e[1],i=(0,m.YK)().pages.inputs,u=i.services,c=i.title,s=i.table,v=i.description,j=!s,S=re((0,r.useState)(u[0].name),2),O=S[0],w=S[1],x=u.find((function(e){return e.name===O})),P=[b.Oh,b.jg,b.bZ],_=u.map((function(e){return e.name})),N=(0,o.s0)(),C=(0,Q.Z)();(0,r.useEffect)((function(){I(),k()}),[(0,o.TH)().search]);var I=function(){var e=u.find((function(e){return e.name===C.get("service")}));C&&e&&P.includes(C.get("action"))&&!n.open?C.get("action")!==b.jg&&n.stanzaName?t(ne(ne({},n),{},{open:!0,isInputPageStyle:!0,serviceName:C.get("service"),mode:C.get("action")})):t(ne(ne({},n),{},{open:!0,isInputPageStyle:!0,serviceName:C.get("service"),formLabel:"Create ".concat(null==e?void 0:e.title),mode:b.jg})):C.get("service")&&C.get("action")||!n.open||!n.isInputPageStyle||t(ne(ne({},n),{},{open:!1}))},k=function(){C&&_.includes(C.get("service"))&&w(C.get("service"))},T=function(e,r){var o=u.find((function(n){return n.name===e})),i=o.title,a=o.style===g.G;t(ne(ne({},n),{},{open:!0,serviceName:e,mode:b.jg,formLabel:"Add ".concat(i),isInputPageStyle:a,groupName:r})),a&&(C.set("service",e),C.set("action",b.jg),N({search:C.toString()}))},E=function(e,r){var o,i=null===(o=u.find((function(n){return n.name===e.serviceName})))||void 0===o?void 0:o.title;t(ne(ne({},n),{},{open:!0,isInputPageStyle:!0,serviceName:e.serviceName,stanzaName:e.name,formLabel:r===b.Oh?"Clone ".concat(i):"Update ".concat(i),mode:r})),C.set("service",e.serviceName),C.set("action",r),N({search:C.toString()})},A=(0,r.useCallback)((function(e,n){var t=n.selectedTabId;w(t),C.delete("action"),C.set("service",t),N({search:C.toString()})}),[O]);return(0,R.jsx)(W.Z,{children:(0,R.jsxs)(y.W,{value:null,children:[n.isInputPageStyle&&n.open?(0,R.jsx)(J.Z,{open:n.open,handleRequestClose:function(){t(ne(ne({},n),{},{open:!1})),j||C.delete("service"),C.delete("action"),N({search:C.toString()})},serviceName:n.serviceName,stanzaName:n.stanzaName,mode:n.mode,formLabel:n.formLabel,page:h.b,groupName:n.groupName}):null," ",(0,R.jsxs)("div",{style:n.isInputPageStyle&&n.open?{display:"none"}:{display:"block"},children:[(0,R.jsx)(a(),{gutter:8,children:(0,R.jsxs)(ue,{children:[(0,R.jsxs)(a().Column,{className:j&&"title_menu_column",span:9,children:[(0,R.jsx)(d.r3,{children:j?(0,p._)(x.title):(0,p._)(c||"")}),(0,R.jsx)(d.pZ,{className:j&&"page_subtitle",children:j?(0,p._)(x.description):(0,p._)(v||"")})]}),(0,R.jsx)(a().Column,{className:j?"title_menu_column":"dropdown",span:3,children:!j&&(0,R.jsx)(V,{handleRequestOpen:T})})]})}),j?(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(f(),{activeTabId:O,onChange:A,children:u.map((function(e){return(0,R.jsx)(f().Tab,{label:(0,p._)(e.title),tabId:e.name},e.name)}))}),u.map((function(e){return(0,R.jsx)("div",{style:e.name!==O?{display:"none"}:{display:"block"},id:"".concat(e.name,"Tab"),children:(0,R.jsx)(G.Z,{page:h.b,serviceName:e.name,handleRequestModalOpen:function(){return T(e.name)},handleOpenPageStyleDialog:E})},e.name)}))]}):(0,R.jsx)(G.Z,{page:h.b,handleOpenPageStyleDialog:E}),(0,R.jsx)(l(),{position:"top-right"}),!n.isInputPageStyle&&n.open?(0,R.jsx)(H.Z,{page:h.b,open:n.open,handleRequestClose:function(){t(ne(ne({},n),{},{open:!1}))},serviceName:n.serviceName,mode:b.jg,formLabel:n.formLabel,groupName:n.groupName}):null]})]})})}}}]);