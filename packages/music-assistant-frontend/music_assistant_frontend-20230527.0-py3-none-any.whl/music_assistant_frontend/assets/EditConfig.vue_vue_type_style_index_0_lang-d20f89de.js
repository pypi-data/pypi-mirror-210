import{p as _,g as ee,r as f,j as s,f as H,c as T,a9 as ie,aB as ue,k as K,l as se,I as de,w as oe,q as d,y as w,v as b,x as n,F as J,z as Q,K as E,N as h,M as A,A as p,L as V,aF as m,aG as W}from"./index-1ad60828.js";import{a as ne,b as re,c as ve,d as me,V as pe}from"./VExpansionPanel-02cd7906.js";import{a as ce,i as le,I as be,L as Ve,j as ge,l as P}from"./VBtn-ff252f3e.js";import{a as ke,c as he,m as fe,u as Ce,V as X,b as Y}from"./VLabel-91783c6d.js";import{f as $e}from"./VMenu-d330d0f1.js";import{c as we,g as Ee,h as Se}from"./VCard-727b1716.js";import{a as Ue}from"./VSpacer-96824214.js";import{V as qe}from"./VDialog-1b26297b.js";import{V as Ie}from"./index-7651f7f7.js";import{a as Pe,b as Z}from"./VCheckboxBtn-2801bae9.js";import{V as G,a as Te}from"./VSelect-3bb42b78.js";const Re=_({...ce(),...ke()},"v-form"),Be=ee()({name:"VForm",props:Re(),emits:{"update:modelValue":i=>!0,submit:i=>!0},setup(i,S){let{slots:C,emit:$}=S;const o=he(i),g=f();function U(v){v.preventDefault(),o.reset()}function q(v){const r=v,c=o.validate();r.then=c.then.bind(c),r.catch=c.catch.bind(c),r.finally=c.finally.bind(c),$("submit",r),r.defaultPrevented||c.then(R=>{var I;let{valid:B}=R;B&&((I=g.value)==null||I.submit())}),r.preventDefault()}return le(()=>{var v;return s("form",{ref:g,class:["v-form",i.class],style:i.style,novalidate:!0,onReset:U,onSubmit:q},[(v=C.default)==null?void 0:v.call(C,o)])}),$e(o,g)}});const Fe=_({indeterminate:Boolean,inset:Boolean,flat:Boolean,loading:{type:[Boolean,String],default:!1},...fe(),...Pe()},"v-switch"),Ae=ee()({name:"VSwitch",inheritAttrs:!1,props:Fe(),emits:{"update:focused":i=>!0,"update:modelValue":()=>!0,"update:indeterminate":i=>!0},setup(i,S){let{attrs:C,slots:$}=S;const o=H(i,"indeterminate"),g=H(i,"modelValue"),{loaderClasses:U}=be(i),{isFocused:q,focus:v,blur:r}=Ce(i),c=T(()=>typeof i.loading=="string"&&i.loading!==""?i.loading:i.color),R=ie(),B=T(()=>i.id||`switch-${R}`);function I(){o.value&&(o.value=!1)}return le(()=>{const[L,y]=ue(C),[z,M]=X.filterProps(i),[x,F]=Z.filterProps(i),N=f();function k(l){var a,u;l.stopPropagation(),l.preventDefault(),(u=(a=N.value)==null?void 0:a.input)==null||u.click()}return s(X,K({class:["v-switch",{"v-switch--inset":i.inset},{"v-switch--indeterminate":o.value},U.value,i.class],style:i.style},L,z,{id:B.value,focused:q.value}),{...$,default:l=>{let{id:a,messagesId:u,isDisabled:e,isReadonly:D,isValid:O}=l;return s(Z,K({ref:N},x,{modelValue:g.value,"onUpdate:modelValue":[t=>g.value=t,I],id:a.value,"aria-describedby":u.value,type:"checkbox","aria-checked":o.value?"mixed":void 0,disabled:e.value,readonly:D.value,onFocus:v,onBlur:r},y),{...$,default:()=>s("div",{class:"v-switch__track",onClick:k},null),input:t=>{let{textColorClasses:ae,textColorStyles:te}=t;return s("div",{class:["v-switch__thumb",ae.value],style:te.value},[i.loading&&s(Ve,{name:"v-switch",active:!0,color:O.value===!1?void 0:c.value},{default:j=>$.loader?$.loader(j):s(ge,{active:j.isActive,color:j.color,indeterminate:!0,size:"16",width:"2"},null)})])}})}})}),{}}}),Le=V("br",null,null,-1),xe={class:"configcolumnleft"},Ne={key:0},De=V("br",null,null,-1),Oe=V("br",null,null,-1),Ge=V("br",null,null,-1),ye={key:1},ze=V("br",null,null,-1),je={key:2},Me=V("br",null,null,-1),He={key:0,class:"configcolumnright"},Ke=V("br",null,null,-1),Je=V("br",null,null,-1),ul=se({__name:"EditConfig",props:{configEntries:{},disabled:{type:Boolean}},emits:["submit","action"],setup(i,{emit:S}){const C=i,$=de(),o=f(),g=f(!1),U=f(),q=f("basic"),v=f(!1),r=f(),c=f({}),R=T(()=>o.value?o.value.filter(l=>l.advanced&&!l.hidden).length>0:!1),B=T(()=>R.value?["basic","advanced"]:["basic"]),I=T(()=>{for(const l of o.value)if(l.required&&!(!F(l.value)||!F(l.default_value)||l.type==m.DIVIDER||l.type==m.LABEL))return!1;return!0}),L=T(()=>{const l={};for(const a of C.configEntries)a.value!=null&&(a.type==m.SECURE_STRING&&a.value==W||(l[a.key]=a.value));return l});oe(()=>C.configEntries,l=>{o.value=[];for(const a of l||[])a.value!==void 0&&a.value!==null&&(c.value[a.key]=a.value),(a.value==null||a.value==null)&&(a.value=a.default_value),o.value.push(a)},{immediate:!0});const y=async function(){const{valid:l}=await U.value.validate();return l},z=async function(){await y()&&S("submit",L.value)},M=async function(l){S("action",l,L.value)},x=function(l){window.open(l,"_blank")},F=function(l){return l==null},N=function(l){return!(l.required&&F(l.value))},k=function(l){var a;if(!F(l.depends_on)){const u=(a=o.value)==null?void 0:a.find(e=>e.key==l.depends_on);if(u&&!N(u))return!0}return!1};return(l,a)=>(d(),w("section",null,[o.value?(d(),b(Be,{key:0,ref_key:"form",ref:U,modelValue:g.value,"onUpdate:modelValue":a[2]||(a[2]=u=>g.value=u),style:{"margin-right":"10px"},disabled:l.disabled},{default:n(()=>[s(ne,{modelValue:q.value,"onUpdate:modelValue":a[1]||(a[1]=u=>q.value=u),variant:"accordion",multiple:""},{default:n(()=>[(d(!0),w(J,null,Q(B.value,u=>(d(),b(re,{key:u,value:u},{default:n(()=>[u=="advanced"?(d(),b(ve,{key:0},{default:n(()=>[V("h3",null,h(l.$t("settings.advanced_settings")),1)]),_:1})):A("",!0),Le,s(me,null,{default:n(()=>[(d(!0),w(J,null,Q(o.value.filter(e=>e.advanced==(u=="advanced")&&!e.hidden),e=>{var D,O;return d(),w("div",{key:e.key,class:"configrow"},[V("div",xe,[e.type==p(m).DIVIDER?(d(),w("div",Ne,[De,s(Ie),e.label?(d(),b(Y,{key:0,style:{"margin-left":"8px","margin-top":"10px","margin-bottom":"10px"}},{default:n(()=>[V("b",null,h(e.label),1)]),_:2},1024)):A("",!0),Oe,Ge])):e.type==p(m).LABEL?(d(),w("div",ye,[ze,s(Y,{style:{"margin-left":"8px","margin-top":"10px","margin-bottom":"10px"}},{default:n(()=>[E(h(l.$t(`settings.${e.key}`,e.label)),1)]),_:2},1024)])):e.type==p(m).ACTION||e.action&&!e.value?(d(),w("div",je,[Me,s(P,{class:"actionbutton",disabled:k(e),onClick:t=>{M(e.action||e.key),e.value=e.action?null:e.key}},{default:n(()=>[E(h(l.$t(`settings.${e.action||e.key}`,e.action_label||e.label)),1)]),_:2},1032,["disabled","onClick"])])):e.type==p(m).BOOLEAN?(d(),b(Ae,{key:3,modelValue:e.value,"onUpdate:modelValue":t=>e.value=t,label:l.$t(`settings.${e.key}`,e.label),color:"primary",disabled:k(e)},null,8,["modelValue","onUpdate:modelValue","label","disabled"])):(e.type==p(m).INTEGER||e.type==p(m).FLOAT)&&e.range&&e.range.length==2?(d(),b(pe,{key:4,modelValue:e.value,"onUpdate:modelValue":t=>e.value=t,disabled:k(e),label:l.$t(`settings.${e.key}`,e.label),required:e.required,class:"align-center",min:e.range[0],max:e.range[1],step:e.type==p(m).FLOAT?.5:1,"hide-details":"",style:{"margin-top":"10px","margin-bottom":"25px"},color:"primary"},{append:n(()=>[s(G,{modelValue:e.value,"onUpdate:modelValue":t=>e.value=t,"hide-details":"","single-line":"",density:"compact",type:"number",style:{width:"70px"}},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["modelValue","onUpdate:modelValue","disabled","label","required","min","max","step"])):e.type==p(m).SECURE_STRING?(d(),b(G,{key:5,modelValue:e.value,"onUpdate:modelValue":t=>e.value=t,label:l.$t(`settings.${e.key}`,e.label),required:e.required,disabled:k(e),rules:[t=>!(!t&&e.required)||l.$t("settings.invalid_input")],type:v.value?"text":"password","append-inner-icon":v.value?"mdi-eye":typeof e.value=="string"&&e.value.includes(p(W))?"":"mdi-eye-off",variant:"outlined",clearable:"",readonly:!!e.action,"onClick:appendInner":a[0]||(a[0]=t=>v.value=!v.value)},null,8,["modelValue","onUpdate:modelValue","label","required","disabled","rules","type","append-inner-icon","readonly"])):e.options&&e.options.length>0?(d(),b(Te,{key:6,modelValue:e.value,"onUpdate:modelValue":t=>e.value=t,chips:e.multi_value,clearable:e.multi_value,multiple:e.multi_value,items:e.options,disabled:k(e),label:l.$t(`settings.${e.key}`,e.label),required:e.required,rules:[t=>!(!t&&e.required)||l.$t("settings.invalid_input")],variant:"outlined"},null,8,["modelValue","onUpdate:modelValue","chips","clearable","multiple","items","disabled","label","required","rules"])):e.type==p(m).INTEGER||e.type==p(m).FLOAT?(d(),b(G,{key:7,modelValue:e.value,"onUpdate:modelValue":t=>e.value=t,placeholder:(D=e.default_value)==null?void 0:D.toString(),disabled:k(e),label:l.$t(`settings.${e.key}`,e.label),required:e.required,rules:[t=>!(!t&&e.required)||l.$t("settings.invalid_input")],variant:"outlined",clearable:!e.required,type:"number"},null,8,["modelValue","onUpdate:modelValue","placeholder","disabled","label","required","rules","clearable"])):(d(),b(G,{key:8,modelValue:e.value,"onUpdate:modelValue":t=>e.value=t,placeholder:(O=e.default_value)==null?void 0:O.toString(),clearable:"",disabled:k(e),label:l.$t(`settings.${e.key}`,e.label),required:e.required,rules:[t=>!(!t&&e.required)||l.$t("settings.invalid_input")],variant:"outlined",readonly:!!e.action},null,8,["modelValue","onUpdate:modelValue","placeholder","disabled","label","required","rules","readonly"]))]),e.description||e.help_link?(d(),w("div",He,[s(P,{icon:"mdi-help-box",variant:"plain",class:"helpicon",size:"x-large",onClick:t=>e.description?r.value=e:x(e.help_link)},null,8,["onClick"])])):A("",!0)])}),128))]),_:2},1024)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"]),Ke,s(P,{block:"",color:"primary",disabled:!I.value,onClick:z},{default:n(()=>[E(h(l.$t("settings.save")),1)]),_:1},8,["disabled"])]),_:1},8,["modelValue","disabled"])):A("",!0),Je,s(P,{block:"",onClick:a[3]||(a[3]=u=>p($).back())},{default:n(()=>[E(h(l.$t("close")),1)]),_:1}),s(qe,{"model-value":r.value!==void 0,width:"auto","onUpdate:modelValue":a[6]||(a[6]=u=>r.value=void 0)},{default:n(()=>[s(we,null,{default:n(()=>[s(Ee,null,{default:n(()=>{var u;return[E(h((u=r.value)==null?void 0:u.description),1)]}),_:1}),s(Se,null,{default:n(()=>{var u;return[(u=r.value)!=null&&u.help_link?(d(),b(P,{key:0,onClick:a[4]||(a[4]=e=>x(r.value.help_link))},{default:n(()=>[E(h(l.$t("read_more")),1)]),_:1})):A("",!0),s(Ue),s(P,{color:"primary",onClick:a[5]||(a[5]=e=>r.value=void 0)},{default:n(()=>[E(h(l.$t("close")),1)]),_:1})]}),_:1})]),_:1})]),_:1},8,["model-value"])]))}});export{Ae as V,ul as _};
