"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_views_alerts_incidentRedirect_tsx"],{"./app/utils/discover/charts.tsx":(t,e,r)=>{r.d(e,{CX:()=>i,Xp:()=>l,gu:()=>u,x1:()=>o});var n=r("./app/locale.tsx"),s=r("./app/utils.tsx"),a=r("./app/utils/formatters.tsx");function i(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"number";return(0,s.ri)(t)?function(t,e){if(!(0,s.ri)(t))return"—";switch(e){case"integer":case"number":return t.toLocaleString();case"percentage":return(0,a.rl)(t,2);case"duration":return(0,a.g9)(t/1e3,2,!0);case"size":return(0,s.F)(t);default:return t.toString()}}(t,e):"—"}function u(t,e){return o(t,e,arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3?arguments[3]:void 0)}function o(t,e){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3?arguments[3]:void 0;switch(e){case"integer":case"number":return r?(0,a.Du)(t):t.toLocaleString();case"percentage":return(0,a.rl)(t,0);case"duration":return function(t,e){if(e??=c(t),0===t)return"0";switch(e){case a.ps:{const e=(t/a.ps).toFixed(0);return(0,n.t)("%swk",e)}case a.x4:{const e=(t/a.x4).toFixed(0);return(0,n.t)("%sd",e)}case a.kr:{const e=(t/a.kr).toFixed(0);return(0,n.t)("%shr",e)}case a.EB:{const e=(t/a.EB).toFixed(0);return(0,n.t)("%smin",e)}case a.sh:{const e=(t/a.sh).toFixed(0);return(0,n.t)("%ss",e)}default:const e=t.toFixed(0);return(0,n.t)("%sms",e)}}(t,i);case"size":return(0,s.F)(t,0);default:return t.toString()}}function l(t,e){let r=0;const n=function(t,e){let r;if(t[0]?.data){let n,s=t[0];t.forEach(((r,a)=>{let{seriesName:i,data:u}=r;!1!==e?.selected?.[i]&&u.length&&(s=t[a],n??=t[a])})),n?.data&&(r={max:Math.max(...n.data.map((t=>{let{value:e}=t;return e})).filter((t=>!!t))),min:Math.min(...s.data.map((t=>{let{value:e}=t;return e})).filter((t=>!!t)))})}return r}(t,e);if(n){const t=(n.max+n.min)/2;r=c((n.max-n.min)/5),(t/r).toFixed(0).length>6&&(r=c(t))}return r}function c(t){return t>=a.ps?a.ps:t>=a.x4?a.x4:t>=a.kr?a.kr:t>=a.EB?a.EB:t>=a.sh?a.sh:1}},"./app/views/alerts/incidentRedirect.tsx":(t,e,r)=>{r.r(e),r.d(e,{default:()=>S});var n=r("../node_modules/react/index.js"),s=r("../node_modules/react-router/es/index.js"),a=r("./app/components/loadingError.tsx"),i=r("./app/components/loadingIndicator.tsx"),u=r("./app/utils/analytics.tsx"),o=r("./app/utils/useApi.tsx"),l=r("./app/utils/withDomainRequired.tsx"),c=r("./app/views/alerts/utils/apiCalls.tsx"),E=r("./app/views/alerts/utils/index.tsx"),R=r("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function p(t){let{organization:e,params:r}=t;const p=(0,o.Z)(),[S,d]=(0,n.useState)(!1),T=(0,n.useCallback)((()=>{(0,u.Gi)("alert_details.viewed",{organization:e,alert_id:parseInt(r.alertId,10)})}),[e,r.alertId]),A=(0,n.useCallback)((async()=>{d(!1);try{const t=await(0,c.yN)(p,e.slug,r.alertId);s.browserHistory.replace((0,l.D)({pathname:(0,E.Gu)(e,t),query:{alert:t.identifier}}))}catch(t){d(!0)}}),[d,p,r.alertId,e]);return(0,n.useEffect)((()=>{A(),T()}),[A,T]),S?(0,R.tZ)(a.Z,{onRetry:A}):(0,R.tZ)(i.Z,{})}p.displayName="IncidentRedirect";const S=p},"./app/views/alerts/rules/metric/types.tsx":(t,e,r)=>{r.d(e,{F4:()=>a,GM:()=>o,LO:()=>S,Lm:()=>d,Tb:()=>R,Us:()=>p,XH:()=>E,Yh:()=>l,hd:()=>T,lK:()=>c,lT:()=>s,qz:()=>u,t6:()=>i});var n=r("./app/locale.tsx");let s,a,i,u,o,l,c,E,R,p;!function(t){t[t.ABOVE=0]="ABOVE",t[t.BELOW=1]="BELOW"}(s||(s={})),function(t){t.CRITICAL="critical",t.WARNING="warning",t.RESOLVE="resolve"}(a||(a={})),function(t){t.COUNT="count",t.CHANGE="change",t.PERCENT="percent"}(i||(i={})),function(t){t.ERRORS="events",t.TRANSACTIONS="transactions",t.GENERIC_METRICS="generic_metrics",t.SESSIONS="sessions",t.METRICS="metrics"}(u||(u={})),function(t){t.DEFAULT="default",t.ERROR="error",t.TRANSACTION="transaction",t.USER="user",t.SESSION="session"}(o||(o={})),function(t){t.ERROR_DEFAULT="error_default",t.DEFAULT="default",t.ERROR="error",t.TRANSACTION="transaction"}(l||(l={})),function(t){t.CRASH_FREE_SESSIONS="percentage(sessions_crashed, sessions) AS _crash_rate_alert_aggregate",t.CRASH_FREE_USERS="percentage(users_crashed, users) AS _crash_rate_alert_aggregate"}(c||(c={})),function(t){t.SIX_HOURS="6h",t.ONE_DAY="1d",t.THREE_DAYS="3d",t.SEVEN_DAYS="10000m",t.FOURTEEN_DAYS="14d",t.THIRTY_DAYS="30d"}(E||(E={})),function(t){t[t.ONE_MINUTE=1]="ONE_MINUTE",t[t.FIVE_MINUTES=5]="FIVE_MINUTES",t[t.TEN_MINUTES=10]="TEN_MINUTES",t[t.FIFTEEN_MINUTES=15]="FIFTEEN_MINUTES",t[t.THIRTY_MINUTES=30]="THIRTY_MINUTES",t[t.ONE_HOUR=60]="ONE_HOUR",t[t.TWO_HOURS=120]="TWO_HOURS",t[t.FOUR_HOURS=240]="FOUR_HOURS",t[t.ONE_DAY=1440]="ONE_DAY"}(R||(R={})),function(t){t.EMAIL="email",t.SLACK="slack",t.PAGERDUTY="pagerduty",t.MSTEAMS="msteams",t.SENTRY_APP="sentry_app"}(p||(p={}));const S={[p.EMAIL]:(0,n.t)("Emai​l"),[p.SLACK]:(0,n.t)("Slack"),[p.PAGERDUTY]:(0,n.t)("Pagerduty"),[p.MSTEAMS]:(0,n.t)("MS Teams"),[p.SENTRY_APP]:(0,n.t)("Notification")};let d;!function(t){t.SPECIFIC="specific",t.USER="user",t.TEAM="team",t.SENTRY_APP="sentry_app"}(d||(d={}));const T={[d.USER]:(0,n.t)("Member"),[d.TEAM]:(0,n.t)("Team")}},"./app/views/alerts/types.tsx":(t,e,r)=>{let n,s,a,i,u,o;r.d(e,{Gb:()=>u,XO:()=>o,lm:()=>s,ok:()=>n,vt:()=>a}),function(t){t.METRIC="metric",t.ISSUE="issue"}(n||(n={})),function(t){t[t.CREATED=0]="CREATED",t[t.DETECTED=1]="DETECTED",t[t.STATUS_CHANGE=2]="STATUS_CHANGE",t[t.COMMENT=3]="COMMENT",t[t.STARTED=4]="STARTED"}(s||(s={})),function(t){t[t.OPENED=1]="OPENED",t[t.CLOSED=2]="CLOSED",t[t.WARNING=10]="WARNING",t[t.CRITICAL=20]="CRITICAL"}(a||(a={})),function(t){t[t.MANUAL=1]="MANUAL",t[t.RULE_UPDATED=2]="RULE_UPDATED",t[t.RULE_TRIGGERED=3]="RULE_TRIGGERED"}(i||(i={})),function(t){t[t.PENDING=0]="PENDING",t[t.SNAPSHOT=4]="SNAPSHOT",t[t.DISABLED=5]="DISABLED"}(u||(u={})),function(t){t.METRIC="alert_rule",t.ISSUE="rule"}(o||(o={}))},"./app/views/alerts/utils/apiCalls.tsx":(t,e,r)=>{r.d(e,{dX:()=>s,hl:()=>a,yN:()=>i});const n=new(r("./app/api.tsx").KU);function s(t,e,r){return n.requestPromise(`/organizations/${t}/alert-rules/${e}/`,{query:r})}function a(t,e,r,s){return n.requestPromise(`/organizations/${t}/incidents/`,{query:{project:"-1",alertRule:e,includeSnapshots:!0,start:r,end:s,expand:["activities","seen_by","original_alert_rule"]}})}function i(t,e,r){return t.requestPromise(`/organizations/${e}/incidents/${r}/`)}},"./app/views/alerts/utils/index.tsx":(t,e,r)=>{r.d(e,{A4:()=>A,CM:()=>S,Eb:()=>N,Ey:()=>d,Gm:()=>p,Gu:()=>h,KC:()=>T,LI:()=>x,QR:()=>U,Vc:()=>_,g2:()=>m,lR:()=>O,qn:()=>I,t3:()=>f});var n=r("../node_modules/lodash/round.js"),s=r.n(n),a=r("./app/locale.tsx"),i=r("./app/types/index.tsx"),u=r("./app/utils.tsx"),o=(r("./app/utils/dates.tsx"),r("./app/utils/discover/charts.tsx")),l=r("./app/utils/discover/fields.tsx"),c=r("./app/utils/toArray.tsx"),E=r("./app/views/alerts/rules/metric/types.tsx"),R=r("./app/views/alerts/types.tsx");function p(t){return!t.hasOwnProperty("triggers")}const S={[E.qz.ERRORS]:(0,a.t)("Errors"),[E.qz.TRANSACTIONS]:(0,a.t)("Transactions"),[E.Yh.ERROR_DEFAULT]:"event.type:error OR event.type:default",[E.Yh.ERROR]:"event.type:error",[E.Yh.DEFAULT]:"event.type:default",[E.Yh.TRANSACTION]:"event.type:transaction"},d={[E.Yh.ERROR_DEFAULT]:{dataset:E.qz.ERRORS,eventTypes:[E.GM.ERROR,E.GM.DEFAULT]},[E.Yh.ERROR]:{dataset:E.qz.ERRORS,eventTypes:[E.GM.ERROR]},[E.Yh.DEFAULT]:{dataset:E.qz.ERRORS,eventTypes:[E.GM.DEFAULT]},[E.Yh.TRANSACTION]:{dataset:E.qz.TRANSACTIONS,eventTypes:[E.GM.TRANSACTION]}};function T(t,e){return t===E.qz.TRANSACTIONS||t===E.qz.GENERIC_METRICS?E.Yh.TRANSACTION:e?e.includes(E.GM.DEFAULT)&&e.includes(E.GM.ERROR)?E.Yh.ERROR_DEFAULT:e.includes(E.GM.DEFAULT)?E.Yh.DEFAULT:E.Yh.ERROR:E.Yh.ERROR}function A(t){let e=t.match(/\(?\bevent\.type:(error|default|transaction)\)?\WOR\W\(?event\.type:(error|default|transaction)\)?/i);return e?"default,error"!==e.slice(1,3).sort().join(",")?null:{source:E.Yh.ERROR_DEFAULT,query:t.replace(e[0],"").trim()}:(e=t.match(/(^|\s)event\.type:(error|default|transaction)/i),e&&E.Yh[e[2].toUpperCase()]?{source:E.Yh[e[2].toUpperCase()],query:t.replace(e[0],"").trim()}:null)}function N(t){return Object.values(E.lK).includes(t)}const _={[E.lK.CRASH_FREE_SESSIONS]:i.kI.SESSIONS,[E.lK.CRASH_FREE_USERS]:i.kI.USERS};function O(t,e,r){return N(r)?(0,u.ri)(t)?`${s()(t,2)}%`:"―":(0,o.gu)(t,(0,l.Px)(e))}function I(t,e,r){return N(r)?(0,u.ri)(t)?`${t}%`:"―":(0,o.CX)(t,(0,l.Px)(e))}const f=1.03;function U(t){return N(t)}function h(t,e){return`/organizations/${t.slug}/alerts/rules/details/${e.alertRule.status===R.Gb.SNAPSHOT&&e.alertRule.originalAlertRuleId?e.alertRule.originalAlertRuleId:e.alertRule.id}/`}function m(t){return Array.isArray(t)||""===t?"all":["open","closed"].includes(t)?t:"all"}const C=["myteams","unassigned"];function x(t){return void 0===t?C:""===t?[]:(0,c.Z)(t)}}}]);
//# sourceMappingURL=../sourcemaps/app_views_alerts_incidentRedirect_tsx.2c1a8cfd935737129573652bb0cd9368.js.map