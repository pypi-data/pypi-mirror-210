"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_views_issueDetails_index_tsx"],{"./app/components/events/errorLevel.tsx":(e,t,s)=>{s.d(t,{Z:()=>i});var n=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js");const r="13px",i=(0,n.Z)("span",{target:"efr73n80"})("padding:0;position:relative;width:",(e=>e.size||r),";height:",(e=>e.size||r),";text-indent:-9999em;display:inline-block;border-radius:50%;flex-shrink:0;background-color:",(e=>e.level?e.theme.level[e.level]:e.theme.level.error),";")},"./app/components/events/eventMessage.tsx":(e,t,s)=>{s.d(t,{Z:()=>d});var n=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),r=s("./app/components/events/errorLevel.tsx"),i=s("./app/styles/space.tsx"),o=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const a=(0,n.Z)((e=>{let{className:t,level:s,levelIndicatorSize:n,message:i,annotations:a}=e;return(0,o.BX)("div",{className:t,children:[s&&(0,o.tZ)(r.Z,{size:n,level:s,children:s}),i&&(0,o.tZ)(l,{children:i}),a]})}),{target:"e1ms02k71"})("display:flex;gap:",(0,i.D)(1),";align-items:center;position:relative;line-height:1.2;overflow:hidden;"),l=(0,n.Z)("span",{target:"e1ms02k70"})((e=>e.theme.overflowEllipsis)," width:auto;max-height:38px;"),d=a},"./app/components/pageAlertBar.tsx":(e,t,s)=>{s.d(t,{Z:()=>n});const n=(0,s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js").Z)("div",{target:"e4nzktk0"})("display:flex;align-items:center;justify-content:center;color:",(e=>e.theme.headerBackground),";background-color:",(e=>e.theme.bannerBackground),";padding:6px 30px;font-size:14px;")},"./app/components/replays/replayCountBadge.tsx":(e,t,s)=>{s.d(t,{Z:()=>o});var n=s("./app/components/badge.tsx"),r=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function i(e){let{count:t}=e;const s=t&&t>50?"50+":t??null;return(0,r.tZ)(n.Z,{text:s})}i.displayName="ReplayCountBadge";const o=i},"./app/components/replays/replaysFeatureBadge.tsx":(e,t,s)=>{s.d(t,{Z:()=>o});var n=s("./app/components/featureBadge.tsx"),r=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function i(e){return(0,r.tZ)(n.Z,{...e,type:"new"})}i.displayName="ReplaysFeatureBadge";const o=i},"./app/stores/organizationEnvironmentsStore.tsx":(e,t,s)=>{s.d(t,{Z:()=>o});var n=s("../node_modules/reflux/src/index.js"),r=s("./app/utils/environment.tsx");const i={state:{environments:null,error:null},init(){this.state={environments:null,error:null}},makeEnvironment:e=>({id:e.id,name:e.name,get displayName(){return(0,r.G)(e)},get urlRoutingName(){return(0,r.z)(e)}}),onFetchEnvironments(){this.state={environments:null,error:null},this.trigger(this.state)},onFetchEnvironmentsSuccess(e){this.state={error:null,environments:e.map(this.makeEnvironment)},this.trigger(this.state)},onFetchEnvironmentsError(e){this.state={error:e,environments:null},this.trigger(this.state)},getState(){return this.state}},o=(0,n.createStore)(i)},"./app/utils/displayReprocessEventAction.tsx":(e,t,s)=>{s.d(t,{B:()=>o});var n=s("./app/types/index.tsx");const r=["cocoa","native"];function i(e){const t=e?.frames??[],s=e?.stacktrace?.frames??[];return t.length||s.length?[...t,...s].map((e=>e.platform)).filter((e=>!!e)):[]}function o(e,t){if(!t||!e.includes("reprocessing-v2"))return!1;const{entries:s}=t,o=s.find((e=>e.type===n.UZ.EXCEPTION));return!!o&&!!(function(e){const{data:t}=e;return(t.values??[]).some((e=>"minidump"===e.mechanism?.type))}(o)||function(e){const{data:t}=e;return(t.values??[]).some((e=>"applecrashreport"===e.mechanism?.type))}(o)||function(e,t){const{platform:s}=e;if(s&&r.includes(s))return!0;const o=function(e,t){const s=(t.data.values??[]).flatMap(i),r=e.entries.find((e=>e.type===n.UZ.STACKTRACE))?.data??{},o=Object.keys(r).flatMap((e=>i(r[e]))),a=(e.entries.find((e=>e.type===n.UZ.THREADS))?.data.values??[]).flatMap((e=>{let{stacktrace:t}=e;return i(t)}));return new Set([...s,...o,...a])}(e,t);return r.some((e=>o.has(e)))}(t,o))}},"./app/utils/environment.tsx":(e,t,s)=>{s.d(t,{G:()=>o,z:()=>i});const n="none",r="(No Environment)";function i(e){return e.name?encodeURIComponent(e.name):e.displayName?encodeURIComponent(e.displayName):n}function o(e){return e.name||e.displayName||r}},"./app/utils/routeAnalytics/useRouteAnalyticsEventNames.tsx":(e,t,s)=>{s.d(t,{Z:()=>i});var n=s("../node_modules/react/index.js"),r=s("./app/views/routeAnalyticsContextProvider.tsx");function i(e,t){const{setEventNames:s,previousUrl:i}=(0,n.useContext)(r.o);(0,n.useEffect)((()=>{s(e,t)}),[s,e,t,i])}},"./app/views/issueDetails/index.tsx":(e,t,s)=>{s.r(t),s.d(t,{default:()=>kt});var n=s("../node_modules/react/index.js"),r=s("./app/actionCreators/indicator.tsx"),i=s("./app/locale.tsx"),o=s("./app/stores/projectsStore.tsx"),a=s("./app/utils/handleXhrErrorResponse.tsx"),l=s("./app/utils/useApi.tsx"),d=s("./app/utils/useOrganization.tsx"),c=s("./app/utils/useProjects.tsx"),u=s("./app/utils/withPageFilters.tsx"),p=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),m=(s("../node_modules/core-js/modules/es.array.push.js"),s("../node_modules/core-js/modules/es.error.cause.js"),s("../node_modules/react-router/es/index.js")),g=s("../node_modules/@sentry/core/esm/exports.js"),h=s("../node_modules/@sentry/react/esm/profiler.js"),v=s("./app/stores/organizationEnvironmentsStore.tsx"),b=s("./app/components/loadingError.tsx"),f=s("./app/components/loadingIndicator.tsx"),y=s("./app/components/organizations/pageFilters/container.tsx"),Z=s("./app/components/projects/missingProjectMembership.tsx"),x=s("./app/components/sentryDocumentTitle.tsx"),E=s("./app/components/tabs/index.tsx"),S=s("./app/stores/groupStore.tsx"),I=s("./app/stores/useLegacyStore.tsx"),_=s("./app/styles/space.tsx"),w=s("./app/types/index.tsx"),D=s("./app/utils.tsx"),R=s("./app/utils/analytics.tsx"),T=s("./app/utils/dates.tsx"),k=s("./app/utils/events.tsx"),j=s("./app/utils/projects.tsx"),N=s("./app/utils/queryClient.tsx"),A=s("./app/utils/recreateRoute.tsx"),C=s("./app/utils/routeAnalytics/useRouteAnalyticsEventNames.tsx"),O=s("./app/utils/routeAnalytics/useRouteAnalyticsParams.tsx"),z=s("./app/utils/useLocation.tsx"),B=s("./app/utils/usePrevious.tsx"),P=s("./app/utils/useRouter.tsx"),U=s("./app/utils/withDomainRequired.tsx");const G={GROUP_NOT_FOUND:"GROUP_NOT_FOUND",MISSING_MEMBERSHIP:"MISSING_MEMBERSHIP"};var $=s("../node_modules/lodash/omit.js"),M=s.n($),F=s("./app/components/assistant/guideAnchor.tsx"),q=s("./app/components/badge.tsx"),X=s("./app/components/breadcrumbs.tsx"),L=s("./app/components/count.tsx"),V=s("./app/components/environmentPageFilter.tsx"),H=s("./app/components/eventOrGroupTitle.tsx"),Y=s("./app/components/events/errorLevel.tsx"),K=s("./app/components/events/eventMessage.tsx"),Q=s("./app/components/featureBadge.tsx"),W=s("./app/components/group/inboxBadges/inboxReason.tsx"),J=s("./app/components/group/inboxBadges/statusBadge.tsx"),ee=s("./app/components/group/inboxBadges/unhandledTag.tsx"),te=s("./app/components/idBadge/projectBadge.tsx"),se=s("./app/components/layouts/thirds.tsx"),ne=s("./app/components/links/link.tsx"),re=s("./app/components/replays/replayCountBadge.tsx"),ie=s("./app/components/replays/replaysFeatureBadge.tsx"),oe=s("./app/components/replays/useReplaysCount.tsx"),ae=s("./app/components/shortId.tsx"),le=s("./app/components/tooltip.tsx"),de=s("./app/icons/index.tsx"),ce=s("./app/utils/issueTypeConfig/index.tsx"),ue=s("./app/actionCreators/group.tsx"),pe=s("./app/actionCreators/modal.tsx"),me=s("./app/components/acl/feature.tsx"),ge=s("./app/components/acl/featureDisabled.tsx"),he=s("./app/components/actions/archive.tsx"),ve=s("./app/components/actions/button.tsx"),be=s("./app/components/actions/ignore.tsx"),fe=s("./app/components/actions/resolve.tsx"),ye=s("./app/components/button.tsx"),Ze=s("./app/components/dropdownMenu/index.tsx"),xe=s("./app/utils/discover/eventView.tsx"),Ee=s("./app/utils/discover/types.tsx"),Se=s("./app/utils/displayReprocessEventAction.tsx"),Ie=s("./app/utils/guid.tsx"),_e=s("./app/utils/withApi.tsx"),we=s("./app/utils/withOrganization.tsx"),De=s("./app/components/autoSelectText.tsx"),Re=s("./app/components/copyToClipboardButton.tsx"),Te=s("./app/components/switchButton.tsx"),ke=s("./app/utils/useCopyToClipboard.tsx"),je=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function Ne(e){let{Header:t,Body:s,Footer:o,organization:a,projectSlug:d,groupId:c,onToggle:u,closeModal:p}=e;const m=(0,l.Z)({persistInFlight:!0}),[g,h]=(0,n.useState)(!1),v=(0,n.useRef)(null),b=(0,I.X)(S.Z).find((e=>e.id===c)),y=b?.isPublic,Z=(0,n.useCallback)(((e,t)=>{e?.preventDefault(),h(!0),u(),(0,ue.Gv)(m,{orgId:a.slug,projectId:d,itemIds:[c],data:{isPublic:t??!y}},{error:()=>{(0,r.Iw)((0,i.t)("Error sharing"))},complete:()=>{h(!1)}})}),[m,h,u,y,a.slug,d,c]);(0,n.useEffect)((()=>{y||Z(null,!0)}),[]);const x=b?.shareId?function(){const e=`/share/issue/${b.shareId}/`,{host:t,protocol:s}=window.location;return`${s}//${t}${e}`}():null,{onClick:E}=(0,ke.Z)({text:x,onCopy:p});return(0,je.BX)(n.Fragment,{children:[(0,je.tZ)(t,{closeButton:!0,children:(0,je.tZ)("h4",{children:(0,i.t)("Share Issue")})}),(0,je.tZ)(s,{children:(0,je.BX)(Ce,{children:[(0,je.BX)(Oe,{children:[(0,je.BX)("div",{children:[(0,je.tZ)(ze,{children:(0,i.t)("Create a public link")}),(0,je.tZ)(Be,{children:(0,i.t)("Share a link with anyone outside your organization")})]}),(0,je.tZ)(Te.Z,{"aria-label":y?(0,i.t)("Unshare"):(0,i.t)("Share"),isActive:y,size:"lg",toggle:Z})]}),(!b||g)&&(0,je.tZ)(Pe,{children:(0,je.tZ)(f.Z,{mini:!0})}),b&&!g&&y&&x&&(0,je.BX)(Ue,{children:[(0,je.tZ)($e,{children:(0,je.tZ)(Ge,{ref:v,children:x})}),(0,je.tZ)(Me,{text:x,title:(0,i.t)("Copy to clipboard"),borderless:!0,size:"sm",onClick:()=>{v.current?.selectText()},"aria-label":(0,i.t)("Copy to clipboard")}),(0,je.tZ)(Fe,{title:(0,i.t)("Generate new URL. Invalidates previous URL"),"aria-label":(0,i.t)("Generate new URL"),borderless:!0,size:"sm",icon:(0,je.tZ)(de.tr,{}),onClick:()=>Z(null,!0)})]})]})}),(0,je.tZ)(o,{children:!g&&y&&x?(0,je.tZ)(ye.zx,{priority:"primary",onClick:E,children:(0,i.t)("Copy Link")}):(0,je.tZ)(ye.zx,{priority:"primary",onClick:p,children:(0,i.t)("Close")})})]})}Ne.displayName="ShareIssueModal";const Ae=Ne,Ce=(0,p.Z)("div",{target:"e1w9vv749"})("display:flex;gap:",(0,_.D)(2),";flex-direction:column;min-height:100px;"),Oe=(0,p.Z)("div",{target:"e1w9vv748"})("display:flex;justify-content:space-between;align-items:center;gap:",(0,_.D)(2),";"),ze=(0,p.Z)("div",{target:"e1w9vv747"})("padding-right:",(0,_.D)(4),";white-space:nowrap;"),Be=(0,p.Z)("p",{target:"e1w9vv746"})("color:",(e=>e.theme.subText),";font-size:",(e=>e.theme.fontSizeSmall),";"),Pe=(0,p.Z)("div",{target:"e1w9vv745"})({name:"zl1inp",styles:"display:flex;justify-content:center"}),Ue=(0,p.Z)("div",{target:"e1w9vv744"})("display:grid;grid-template-columns:1fr max-content max-content;align-items:center;border:1px solid ",(e=>e.theme.border),";border-radius:",(0,_.D)(.5),";"),Ge=(0,p.Z)(De.Z,{target:"e1w9vv743"})("padding:",(0,_.D)(1)," ",(0,_.D)(1),";",(e=>e.theme.overflowEllipsis),";"),$e=(0,p.Z)("div",{target:"e1w9vv742"})("position:relative;display:flex;flex-grow:1;background-color:transparent;border-right:1px solid ",(e=>e.theme.border),";min-width:0;"),Me=(0,p.Z)(Re.m,{target:"e1w9vv741"})("border-radius:0;border-right:1px solid ",(e=>e.theme.border),";height:100%;flex-shrink:0;margin:0;&:hover{border-right:1px solid ",(e=>e.theme.border),";}"),Fe=(0,p.Z)(ye.zx,{target:"e1w9vv740"})({name:"1f2ljh2",styles:"border-radius:0;height:100%;flex-shrink:0"});var qe=s("./app/views/issueDetails/utils.tsx");function Xe(e){let{className:t,disabled:s,group:n,icon:r,onClick:o,disablePriority:a,size:l="xs"}=e;const d=n.subscriptionDetails?.disabled??!1;return(0,je.tZ)(ve.Z,{className:t,disabled:s||d,title:(0,qe.sC)(n),tooltipProps:{delay:300},priority:!a&&n.isSubscribed?"primary":"default",size:l,"aria-label":(0,i.t)("Subscribe"),onClick:o,icon:r??(0,je.tZ)(de.lJ,{size:l})})}Xe.displayName="SubscribeAction";const Le=Xe;function Ve(e){const{api:t,group:s,project:o,organization:a,disabled:l,event:d,query:c={}}=e,{status:u,isBookmarked:p}=s,g=p?"unbookmark":"bookmark",h=p?(0,i.t)("Remove bookmark"):(0,i.t)("Bookmark"),v=!!o.features?.includes("releases"),b="resolved"===u,f="resolved"===s.status?s.statusDetails.autoResolved:void 0,y="ignored"===u,Z=a.features.includes("escalating-issues-ui"),x=a.access.includes("event:admin"),{delete:E,deleteAndDiscard:I,share:D}=(0,ce.Y)(s).actions,j=()=>{const{title:e,type:t,shortId:n}=s,r=s.issueCategory===w.qE.PERFORMANCE&&!!d?.occurrence,i=(0,ce.Y)(s),l={id:void 0,name:e||t,fields:["title","release","environment","user.display","timestamp"],orderby:"-timestamp",query:`issue:${n}`,projects:[Number(o.id)],version:2,range:"90d",dataset:i.usesIssuePlatform||r?Ee.as.ISSUE_PLATFORM:void 0};return xe.ZP.fromSavedQuery(l).getResultsViewUrlTarget(a.slug)},N=(e,t,n)=>{const{alert_date:r,alert_rule_id:i,alert_type:l}=c;(0,R.Gi)("issue_details.action_clicked",{organization:a,project_id:parseInt(o.id,10),action_type:e,action_substatus:t,action_status_details:n,alert_date:"string"==typeof r?(0,T.v5)(Number(r)):void 0,alert_rule_id:"string"==typeof i?i:void 0,alert_type:"string"==typeof l?l:void 0,...(0,k.Sq)(s)})},A=()=>{(0,r.E3)((0,i.t)("Delete event…")),(0,ue.MU)(t,{orgId:a.slug,projectId:o.slug,itemIds:[s.id]},{complete:()=>{(0,r.B8)(),m.browserHistory.push((0,U.D)({pathname:`/organizations/${a.slug}/issues/`,query:{project:o.id}}))}}),N("deleted")},C=e=>{(0,r.E3)((0,i.t)("Saving changes…")),(0,ue.Gv)(t,{orgId:a.slug,projectId:o.slug,itemIds:[s.id],data:e},{complete:r.B8}),(e=>void 0!==e.status)(e)&&N(e.status,e.substatus,Object.keys(e.statusDetails||{})[0]),void 0!==e.inbox&&N("mark_reviewed")},O=()=>{!s.isPublic&&(0,R.Gi)("issue.shared_publicly",{organization:a}),N("shared")},z=()=>{C({isSubscribed:!s.isSubscribed}),N("subscribed")},B=()=>{const e=(0,Ie.E)();(0,r.E3)((0,i.t)("Discarding event…")),S.Z.onDiscard(e,s.id),t.request(`/issues/${s.id}/`,{method:"PUT",data:{discard:!0},success:t=>{S.Z.onDiscardSuccess(e,s.id,t),m.browserHistory.push((0,U.D)({pathname:`/organizations/${a.slug}/issues/`,query:{project:o.id}}))},error:t=>{S.Z.onDiscardError(e,s.id,t)},complete:r.B8}),N("discarded")},P=e=>{let{Body:t,Footer:s,closeModal:r}=e;return(0,je.tZ)(me.Z,{features:["projects:discard-groups"],hookName:"feature-disabled:discard-groups",organization:a,project:o,renderDisabled:function(e){let{children:t,...s}=e;return t({...s,renderDisabled:e=>{let{features:t}=e;return(0,je.tZ)(ge.Z,{alert:!0,featureName:(0,i.t)("Discard and Delete"),features:t})}})},children:e=>{let{hasFeature:o,renderDisabled:a,...l}=e;return(0,je.BX)(n.Fragment,{children:[(0,je.BX)(t,{children:[!o&&"function"==typeof a&&a({...l,hasFeature:o,children:null}),(0,i.t)("Discarding this event will result in the deletion of most data associated with this issue and future events being discarded before reaching your stream. Are you sure you wish to continue?")]}),(0,je.BX)(s,{children:[(0,je.tZ)(ye.zx,{onClick:r,children:(0,i.t)("Cancel")}),(0,je.tZ)(ye.zx,{style:{marginLeft:(0,_.D)(1)},priority:"primary",onClick:B,disabled:!o,children:(0,i.t)("Discard Future Events")})]})]})}})},{dropdownItems:G,onIgnore:$}=(0,be.c)({onUpdate:C}),{dropdownItems:M}=(0,he.X)({onUpdate:C});return(0,je.BX)(He,{children:[(0,je.tZ)(Ze.h,{triggerProps:{"aria-label":(0,i.t)("More Actions"),icon:(0,je.tZ)(de.YR,{size:"xs"}),showChevron:!1,size:"sm"},items:[...y||Z?[]:[{key:"ignore",className:"hidden-sm hidden-md hidden-lg",label:(0,i.t)("Ignore"),isSubmenu:!0,disabled:l,children:[{key:"ignore-now",label:(0,i.t)("Ignore Issue"),onAction:()=>$()},...G]}],...Z?y?[]:[{key:"Archive",className:"hidden-sm hidden-md hidden-lg",label:(0,i.t)("Archive"),isSubmenu:!0,disabled:l,children:M}]:[],{key:"open-in-discover",className:"hidden-sm hidden-md hidden-lg",label:(0,i.t)("Open in Discover"),to:l?"":j(),onAction:()=>N("open_in_discover")},{key:s.isSubscribed?"unsubscribe":"subscribe",className:"hidden-sm hidden-md hidden-lg",label:s.isSubscribed?(0,i.t)("Unsubscribe"):(0,i.t)("Subscribe"),disabled:l||s.subscriptionDetails?.disabled,onAction:z},...Z?[]:[{key:"mark-review",label:(0,i.t)("Mark reviewed"),disabled:!s.inbox||l,details:!s.inbox||l?(0,i.t)("Issue has been reviewed"):void 0,onAction:()=>C({inbox:!1})}],{key:"share",label:(0,i.t)("Share"),disabled:l||!D.enabled,hidden:!a.features.includes("shared-issues"),onAction:()=>{(0,pe.openModal)((e=>(0,je.tZ)(Ae,{...e,organization:a,projectSlug:s.project.slug,groupId:s.id,onToggle:O})))}},{key:g,label:h,onAction:()=>{C({isBookmarked:!s.isBookmarked}),N("bookmarked")}},{key:"reprocess",label:(0,i.t)("Reprocess events"),hidden:!(0,Se.B)(a.features,d),onAction:()=>{(0,pe.openReprocessEventModal)({organization:a,groupId:s.id})}},{key:"delete-issue",priority:"danger",label:(0,i.t)("Delete"),hidden:!x,disabled:!E.enabled,details:E.disabledReason,onAction:()=>(0,pe.openModal)((e=>{let{Body:t,Footer:s,closeModal:r}=e;return(0,je.BX)(n.Fragment,{children:[(0,je.tZ)(t,{children:(0,i.t)("Deleting this issue is permanent. Are you sure you wish to continue?")}),(0,je.BX)(s,{children:[(0,je.tZ)(ye.zx,{onClick:r,children:(0,i.t)("Cancel")}),(0,je.tZ)(ye.zx,{style:{marginLeft:(0,_.D)(1)},priority:"primary",onClick:A,children:(0,i.t)("Delete")})]})]})}))},{key:"delete-and-discard",priority:"danger",label:(0,i.t)("Delete and discard future events"),hidden:!x,disabled:!I.enabled,details:I.disabledReason,onAction:()=>{(0,pe.openModal)(P)}}]}),(0,je.tZ)(Le,{className:"hidden-xs",disabled:l,disablePriority:!0,group:s,onClick:(q=z,function(e){if(l)return e.preventDefault(),void e.stopPropagation();q(e)}),icon:s.isSubscribed?(0,je.tZ)(de.lJ,{}):(0,je.tZ)(de.mA,{}),size:"sm"}),(0,je.tZ)("div",{className:"hidden-xs",children:(0,je.tZ)(V.Z,{alignDropdown:"right",size:"sm"})}),(0,je.tZ)(me.Z,{hookName:"feature-disabled:open-in-discover",features:["discover-basic"],organization:a,children:(0,je.tZ)(ve.Z,{className:"hidden-xs",disabled:l,to:l?"":j(),onClick:()=>N("open_in_discover"),size:"sm",children:(0,je.tZ)(F.Z,{target:"open_in_discover",children:(0,i.t)("Open in Discover")})})}),b||y?(0,je.tZ)(ve.Z,{priority:"primary",title:f?(0,i.t)("This event is resolved due to the Auto Resolve configuration for this project"):(0,i.t)("Change status to unresolved"),size:"sm",icon:Z?null:b?(0,je.tZ)(de.DL,{}):(0,je.tZ)(de.i1,{}),disabled:l||f,onClick:()=>C({status:w.d7.UNRESOLVED,statusDetails:{}}),children:y?Z?(0,i.t)("Archived"):(0,i.t)("Ignored"):(0,i.t)("Resolved")}):(0,je.BX)(n.Fragment,{children:[Z?(0,je.tZ)(F.Z,{target:"issue_details_archive_button",position:"bottom",children:(0,je.tZ)(he.Z,{className:"hidden-xs",size:"sm",isArchived:y,onUpdate:C,disabled:l,disableTooltip:!0})}):(0,je.tZ)(be.Z,{className:"hidden-xs",isIgnored:y,onUpdate:C,disabled:l,size:"sm",disableTooltip:!0}),(0,je.tZ)(F.Z,{target:"resolve",position:"bottom",offset:20,children:(0,je.tZ)(fe.Z,{disableTooltip:!0,disabled:l,disableDropdown:l,hasRelease:v,latestRelease:o.latestRelease,onUpdate:C,projectSlug:o.slug,isResolved:b,isAutoResolved:f,size:"sm",priority:"primary"})})]})]});var q}Ve.displayName="Actions";const He=(0,p.Z)("div",{target:"e1muhq5a0"})("display:flex;align-items:center;gap:",(0,_.D)(.5),";"),Ye=(0,_e.Z)((0,we.Z)(Ve));var Ke=s("./app/views/issueDetails/types.tsx"),Qe=s("./app/views/issueDetails/unhandledTag.tsx");function We(e){let{baseUrl:t,disabledTabs:s,eventRoute:r,group:o,project:a}=e;const l=(0,d.Z)(),c=(0,oe.Z)({groupIds:o.id,organization:l})[o.id],u=new Set(a?a.features:[]),p=new Set(l?l.features:[]),m=p.has("grouping-tree-ui"),g=u.has("similarity-view"),h=p.has("event-attachments"),v=p.has("session-replay"),b=(0,ce.Y)(o);return(0,n.useEffect)((()=>{v&&void 0!==c&&(0,R.Gi)("replay.render-issues-detail-count",{platform:a.platform,project_id:a.id,count:c,organization:l})}),[v,c,a,l]),(0,O.Z)({group_has_replay:(c??0)>0}),(0,je.BX)(ut,{hideBorder:!0,children:[(0,je.tZ)(E.td.Item,{disabled:s.includes(Ke.O.DETAILS),to:`${t}${location.search}`,children:(0,i.t)("Details")},Ke.O.DETAILS),(0,je.BX)(E.td.Item,{textValue:(0,i.t)("Activity"),disabled:s.includes(Ke.O.ACTIVITY),to:`${t}activity/${location.search}`,children:[(0,i.t)("Activity"),(0,je.BX)(ct,{children:[o.numComments,(0,je.tZ)(de.f7,{size:"xs"})]})]},Ke.O.ACTIVITY),(0,je.BX)(E.td.Item,{textValue:(0,i.t)("User Feedback"),hidden:!b.userFeedback.enabled,disabled:s.includes(Ke.O.USER_FEEDBACK),to:`${t}feedback/${location.search}`,children:[(0,i.t)("User Feedback")," ",(0,je.tZ)(q.Z,{text:o.userReportCount})]},Ke.O.USER_FEEDBACK),(0,je.tZ)(E.td.Item,{hidden:!h||!b.attachments.enabled,disabled:s.includes(Ke.O.ATTACHMENTS),to:`${t}attachments/${location.search}`,children:(0,i.t)("Attachments")},Ke.O.ATTACHMENTS),(0,je.tZ)(E.td.Item,{disabled:s.includes(Ke.O.TAGS),to:`${t}tags/${location.search}`,children:(0,i.t)("Tags")},Ke.O.TAGS),(0,je.tZ)(E.td.Item,{disabled:s.includes(Ke.O.EVENTS),to:r,children:(0,i.t)("All Events")},Ke.O.EVENTS),(0,je.tZ)(E.td.Item,{hidden:!b.mergedIssues.enabled,disabled:s.includes(Ke.O.MERGED),to:`${t}merged/${location.search}`,children:(0,i.t)("Merged Issues")},Ke.O.MERGED),(0,je.tZ)(E.td.Item,{hidden:!m||!b.grouping.enabled,disabled:s.includes(Ke.O.GROUPING),to:`${t}grouping/${location.search}`,children:(0,i.t)("Grouping")},Ke.O.GROUPING),(0,je.tZ)(E.td.Item,{hidden:!g||!b.similarIssues.enabled,disabled:s.includes(Ke.O.SIMILAR_ISSUES),to:`${t}similar/${location.search}`,children:(0,i.t)("Similar Issues")},Ke.O.SIMILAR_ISSUES),(0,je.BX)(E.td.Item,{textValue:(0,i.t)("Replays"),hidden:!v||!b.replays.enabled,to:`${t}replays/${location.search}`,children:[(0,i.t)("Replays"),(0,je.tZ)(re.Z,{count:c}),(0,je.tZ)(ie.Z,{tooltipProps:{disabled:!0}})]},Ke.O.REPLAYS)]})}function Je(e){let{baseUrl:t,group:s,groupReprocessingStatus:r,organization:o,event:a,project:l}=e;const d=(0,z.T)(),c=o.features.includes("escalating-issues-ui"),u=(0,n.useMemo)((()=>o.features.includes("reprocessing-v2")?r===qe.m7.REPROCESSING?[Ke.O.ACTIVITY,Ke.O.USER_FEEDBACK,Ke.O.ATTACHMENTS,Ke.O.EVENTS,Ke.O.MERGED,Ke.O.GROUPING,Ke.O.SIMILAR_ISSUES,Ke.O.TAGS]:r===qe.m7.REPROCESSED_AND_HASNT_EVENT?[Ke.O.DETAILS,Ke.O.ATTACHMENTS,Ke.O.EVENTS,Ke.O.MERGED,Ke.O.GROUPING,Ke.O.SIMILAR_ISSUES,Ke.O.TAGS,Ke.O.USER_FEEDBACK]:[]:[]),[o,r]),p=(0,n.useMemo)((()=>{const e=M()(d.query,"query");return{pathname:`${t}events/`,query:e}}),[d,t]),{userCount:m}=s;let g="group-detail";s.hasSeen&&(g+=" hasSeen"),"resolved"===s.status&&(g+=" isResolved");const h=(0,k.FC)(s),v=!!u.length,b=s.shortId&&(0,je.tZ)(F.Z,{target:"issue_number",position:"bottom",children:(0,je.BX)(st,{children:[(0,je.tZ)(te.Z,{project:l,avatarSize:16,hideName:!0,avatarProps:{hasTooltip:!0,tooltip:l.slug}}),(0,je.tZ)(le.u,{className:"help-link",title:(0,i.t)("This identifier is unique across your organization, and can be used to reference an issue in various places, like commit messages."),position:"bottom",children:(0,je.tZ)(nt,{shortId:s.shortId})}),s.issueType===w.EM.PERFORMANCE_CONSECUTIVE_DB_QUERIES&&(0,je.tZ)(Q.Z,{type:"alpha",title:(0,i.t)("Consecutive HTTP Performance Issues are in active development and may change")}),s.issueType===w.EM.PERFORMANCE_SLOW_DB_QUERY&&(0,je.tZ)(Q.Z,{type:"alpha",title:(0,i.t)("Slow DB Query Performance Issues are in active development and may change")}),s.issueType===w.EM.PERFORMANCE_CONSECUTIVE_DB_QUERIES&&(0,je.tZ)(Q.Z,{type:"beta",title:(0,i.t)("Consecutive DB Query Performance Issues are in active development and may change")}),s.issueType===w.EM.PERFORMANCE_RENDER_BLOCKING_ASSET&&(0,je.tZ)(Q.Z,{type:"alpha",title:(0,i.t)("Large Render Blocking Asset Performance Issues are in active development and may change")})]})});return(0,je.tZ)(se.h4,{children:(0,je.BX)("div",{className:g,children:[(0,je.BX)(tt,{children:[(0,je.tZ)(X.Z,{crumbs:[{label:"Issues",to:`/organizations/${o.slug}/issues/${d.search}`},{label:b}]}),(0,je.tZ)(Ye,{group:s,project:l,disabled:v,event:a,query:d.query})]}),(0,je.BX)(rt,{children:[(0,je.BX)(it,{children:[(0,je.BX)(ot,{children:[(0,je.tZ)("h3",{children:(0,je.tZ)(at,{hasGuideAnchor:!0,data:s})}),!c&&s.inbox&&(0,je.tZ)(W.Z,{inbox:s.inbox,fontSize:"md"}),c&&(0,je.tZ)(J.O,{status:s.status,substatus:s.substatus,fontSize:"md"})]}),(0,je.BX)(dt,{children:[s.level&&(0,je.tZ)(Y.Z,{level:s.level,size:"11px"}),s.isUnhandled&&(0,je.tZ)(ee.Z,{}),(0,je.tZ)(K.Z,{message:h})]})]}),(0,je.BX)(lt,{children:[(0,je.BX)("div",{className:"count",children:[(0,je.tZ)("h6",{className:"nav-header",children:(0,i.t)("Events")}),(0,je.tZ)(ne.Z,{disabled:v,to:p,children:(0,je.tZ)(L.Z,{className:"count",value:s.count})})]}),(0,je.BX)("div",{className:"count",children:[(0,je.tZ)("h6",{className:"nav-header",children:(0,i.t)("Users")}),0!==m?(0,je.tZ)(ne.Z,{disabled:v,to:`${t}tags/user/${d.search}`,children:(0,je.tZ)(L.Z,{className:"count",value:m})}):(0,je.tZ)("span",{children:"0"})]})]})]}),(0,je.tZ)(rt,{className:"hidden-sm hidden-md hidden-lg",children:(0,je.tZ)(V.Z,{alignDropdown:"right"})}),(0,je.tZ)(We,{baseUrl:t,disabledTabs:u,eventRoute:p,group:s,project:l})]})})}We.displayName="GroupHeaderTabs",Je.displayName="GroupHeader";const et=Je,tt=(0,p.Z)("div",{target:"ez9r7o610"})("display:flex;flex-direction:row;justify-content:space-between;gap:",(0,_.D)(1),";align-items:center;"),st=(0,p.Z)("div",{target:"ez9r7o69"})("display:flex;gap:",(0,_.D)(1),";align-items:center;"),nt=(0,p.Z)(ae.Z,{target:"ez9r7o68"})("font-family:",(e=>e.theme.text.family),";font-size:",(e=>e.theme.fontSizeMedium),";line-height:1;"),rt=(0,p.Z)("div",{target:"ez9r7o67"})("display:flex;gap:",(0,_.D)(2),";justify-content:space-between;margin-top:",(0,_.D)(2),";@media (max-width: ",(e=>e.theme.breakpoints.small),"){flex-direction:column;}"),it=(0,p.Z)("div",{target:"ez9r7o66"})("@media (min-width: ",(e=>e.theme.breakpoints.small),"){max-width:65%;}"),ot=(0,p.Z)("div",{target:"ez9r7o65"})("display:flex;line-height:2;gap:",(0,_.D)(1),";"),at=(0,p.Z)(H.Z,{target:"ez9r7o64"})({name:"870gjp",styles:"font-size:inherit"}),lt=(0,p.Z)("div",{target:"ez9r7o63"})("display:grid;grid-template-columns:repeat(2, min-content);gap:calc(",(0,_.D)(3)," + ",(0,_.D)(3),");@media (min-width: ",(e=>e.theme.breakpoints.small),"){justify-content:flex-end;}"),dt=(0,p.Z)(Qe.S,{target:"ez9r7o62"})("display:flex;gap:",(0,_.D)(1),";justify-content:flex-start;line-height:1.2;"),ct=(0,p.Z)(q.Z,{target:"ez9r7o61"})("display:flex;align-items:center;gap:",(0,_.D)(.5),";"),ut=(0,p.Z)(E.td,{target:"ez9r7o60"})("margin-top:",(0,_.D)(2),";");var pt=s("./app/components/pageAlertBar.tsx");function mt(e){let{organization:t,project:s}=e;return(0,je.BX)(pt.Z,{children:[(0,je.tZ)(de.Db,{}),(0,je.tZ)(ht,{children:(0,i.t)("You are viewing a sample error. Configure Sentry to start viewing real errors.")}),(0,je.tZ)(ye.zx,{size:"xs",priority:"primary",to:`/${t.slug}/${s.slug}/getting-started/${s.platform||""}`,onClick:()=>(0,R.Gi)("growth.sample_error_onboarding_link_clicked",{project_id:s.id?.toString(),organization:t,platform:s.platform}),children:(0,i.t)("Get Started")})]})}mt.displayName="SampleEventAlert";const gt=mt,ht=(0,p.Z)("span",{target:"egvxlkr0"})("margin:0 ",(0,_.D)(1),";");function vt(e){let{environments:t}=e;return{...t?{environment:t}:{},expand:["inbox","owners"],collapse:["release","tags"]}}function bt(e){let{group:t,event:s,organization:n,router:r}=e;const i=function(e){let{router:t}=e;const s=t.routes[t.routes.length-1];return t.params.tagKey?Ke.O.TAGS:Object.values(Ke.O).find((e=>s.path===Ke.h[e]))??Ke.O.DETAILS}({router:r});return{baseUrl:(0,U.D)(`/organizations/${n.slug}/issues/${t.id}/${r.params.eventId&&s?`events/${s.id}/`:""}`),currentTab:i}}function ft(e){let{group:t,event:s,organization:n,router:r}=e;const{routes:i,params:o,location:a}=r,{groupId:l}=o,{currentTab:d,baseUrl:c}=bt({group:t,event:s,organization:n,router:r}),u=n.features?.includes("reprocessing-v2"),{id:p}=t,m=(0,qe.M3)(t);if(l!==p)return u&&m===qe.m7.REPROCESSED_AND_HASNT_EVENT&&d!==Ke.O.ACTIVITY?{pathname:`${c}${Ke.O.ACTIVITY}/`,query:{...o,groupId:p}}:(0,A.Z)("",{routes:i,location:a,params:{...o,groupId:p}});if(u){if(m===qe.m7.REPROCESSING&&d!==Ke.O.DETAILS)return{pathname:c,query:o};if(m===qe.m7.REPROCESSED_AND_HASNT_EVENT&&d!==Ke.O.ACTIVITY&&d!==Ke.O.USER_FEEDBACK)return{pathname:`${c}${Ke.O.ACTIVITY}/`,query:o}}}function yt(e){let{isGlobalSelectionReady:t,environments:s}=e;const r=(0,l.Z)(),i=(0,d.Z)(),o=(0,P.Z)(),a=o.params,u=(0,z.T)(),{projects:p}=(0,c.Z)(),h=(0,I.X)(S.Z).find((e=>{let{id:t}=e;return t===a.groupId})),[b,f]=(0,n.useState)(null),[y,Z]=(0,n.useState)(!1),[x,E]=(0,n.useState)(!1),[_,w]=(0,n.useState)(null),[D,R]=(0,n.useState)(null),T=a.groupId,k=a.eventId??"latest",j=`/issues/${T}/events/${k}/`,A={};0!==s.length&&(A.environment=s);const{data:C,isLoading:O,isError:B,refetch:U}=function(e,t){const s="latest"===e,n=(0,N.WE)(t,{staleTime:3e4,cacheTime:3e4,enabled:s,retry:(e,t)=>404!==t.status}),r=(0,N.WE)(t,{staleTime:1/0,enabled:!s,retry:(e,t)=>404!==t.status});return s?n:r}(k,[j,{query:A}]);(0,n.useEffect)((()=>{C&&R(C)}),[C]);const $=(0,n.useCallback)((async()=>{const e=await r.requestPromise(`/issues/${a.groupId}/first-last-release/`);S.Z.onPopulateReleases(a.groupId,e)}),[r,a.groupId]),M=(0,n.useCallback)((e=>{var t;g.Tb(e),Z(!1),w((t=e?.status,t?404===t?G.GROUP_NOT_FOUND:403===t?G.MISSING_MEMBERSHIP:null:null)),E(!0)}),[]),F=(0,n.useCallback)((async()=>{if(t)try{const e=await r.requestPromise(`/issues/${a.groupId}/`,{query:vt({environments:s})});$();const t=ft({group:e,event:D,router:o,organization:i});if(t)return void m.browserHistory.push(t);const n=p?.find((t=>t.id===e.project.id));if(n){(0,qe.V7)(r,i.slug,n.slug,a.groupId);const e={...u.query};void 0===e.project&&void 0===e._allp&&(e.project=n.id),delete e._allp,m.browserHistory.replace({...window.location,query:e})}else g.$e((t=>{const s=p.map((e=>e.id));t.setContext("missingProject",{projectId:e.project.id,availableProjects:s}),g.Tb(new Error("Project not found"))}));f(n||e.project),Z(!1),S.Z.loadInitialData([e])}catch(e){M(e)}}),[r,s,$,M,t,u,i,a,p,D,o]);(0,n.useEffect)((()=>{h&&h.stale&&F()}),[F,h]),Zt({group:h,event:D,project:b});const q=(0,n.useCallback)((()=>{Z(!0),E(!1),w(null),U(),F()}),[F,U]),X=(0,n.useCallback)((async()=>{if(h?.status===qe.m7.REPROCESSING&&!y&&!O){Z(!0);try{const e=await r.requestPromise(`/issues/${a.groupId}/`,{query:vt({environments:s})}),t=ft({group:e,event:D,organization:i,router:o});if(t)return void m.browserHistory.push(t);Z(!1),S.Z.loadInitialData([e])}catch(e){M(e)}}}),[r,s,h?.status,M,O,y,a.groupId,D,i,o]);return function(e){let{fetchData:t}=e;const s=(0,l.Z)(),r=(0,d.Z)();(0,n.useEffect)((()=>{t(),async function(e,t){v.Z.onFetchEnvironments();try{const s=await e.requestPromise(`/organizations/${t}/environments/`);if(!s)return void v.Z.onFetchEnvironmentsError(new Error("retrieved environments is falsey"));v.Z.onFetchEnvironmentsSuccess(s)}catch(e){v.Z.onFetchEnvironmentsError(e)}}(s,r.slug)}),[])}({fetchData:F}),function(e){let{refetchGroup:t}=e;const s=(0,d.Z)(),r=s.features?.includes("reprocessing-v2");(0,n.useEffect)((()=>{let e;return r&&(e=window.setInterval(t,3e4)),()=>{window.clearInterval(e)}}),[r,t])}({refetchGroup:X}),(0,n.useEffect)((()=>()=>{S.Z.reset()}),[]),{project:b,loadingGroup:y,loadingEvent:O,fetchData:F,group:h,event:D,errorType:_,error:x,eventError:B,refetchData:q,refetchGroup:X}}function Zt(e){let{group:t,event:s,project:n}=e;const r=(0,z.T)(),{alert_date:i,alert_rule_id:o,alert_type:a,ref_fallback:l,stream_index:d,query:c}=r.query;(0,C.Z)("issue_details.viewed","Issue Details: Viewed"),(0,O.Z)({...(0,k.Sq)(t),...(0,k.T7)(s),...(0,j.p)(n),stream_index:"string"==typeof d?Number(d):void 0,query:"string"==typeof c?c:void 0,alert_date:"string"==typeof i?(0,T.v5)(Number(i)):void 0,alert_rule_id:"string"==typeof o?o:void 0,alert_type:"string"==typeof a?a:void 0,ref_fallback:l,stacktrace_link_viewed:!1,trace_status:"none",group_has_replay:!1})}const xt=e=>{let{organization:t,project:s,group:n,event:r,tab:i}=e;if(!s||!n)return;if((0,R.Gi)("issue_details.tab_changed",{organization:t,project_id:parseInt(s.id,10),tab:i,...(0,k.Sq)(n)}),n.issueCategory!==w.qE.ERROR)return;const o=r?r.tags.filter((e=>{let{key:t}=e;return["device","os","browser"].includes(t)})).reduce(((e,t)=>{let{key:s,value:n}=t;return e[s]=n,e}),{}):{};(0,R.Gi)("issue_group_details.tab.clicked",{organization:t,tab:i,platform:s.platform,...o})};function Et(e){let{errorType:t,onRetry:s}=e;const n=(0,d.Z)(),r=(0,z.T)().query.project,{projects:o}=(0,c.Z)(),a=o.find((e=>e.id===r));switch(t){case G.GROUP_NOT_FOUND:return(0,je.tZ)(Dt,{message:(0,i.t)("The issue you were looking for was not found.")});case G.MISSING_MEMBERSHIP:return(0,je.tZ)(Z.Z,{organization:n,project:a});default:return(0,je.tZ)(Dt,{onRetry:s})}}function St(e){let{environments:t,children:s,group:r,project:i,loadingEvent:o,eventError:a,event:l,refetchData:c}=e;const u=(0,d.Z)(),p=(0,P.Z)(),{currentTab:m,baseUrl:g}=bt({group:r,event:l,router:p,organization:u}),h=(0,qe.M3)(r);(0,n.useEffect)((()=>{if(m===Ke.O.DETAILS&&r&&l&&r.id!==l?.groupID&&!a){const e=`/organizations/${u.slug}/issues/${l.groupID}/events/${l.id}/`;p.push((0,U.D)(e))}}),[m,l,a,r,u.slug,p]);const v={environments:t,group:r,project:i,event:l,loadingEvent:o,eventError:a,groupReprocessingStatus:h,onRetry:c,baseUrl:g};return(0,je.BX)(E.mQ,{value:m,onChange:e=>xt({tab:e,group:r,project:i,event:l,organization:u}),children:[(0,je.tZ)(et,{organization:u,groupReprocessingStatus:h,event:l??void 0,group:r,baseUrl:g,project:i}),(0,je.tZ)(Rt,{children:(0,je.tZ)(E.nP.Item,{children:(0,n.isValidElement)(s)?(0,n.cloneElement)(s,v):s},m)})]})}function It(e){const{projects:t,initiallyLoaded:s,fetchError:n}=(0,c.Z)({slugs:e.project?.slug?[e.project.slug]:[]}),r=(e.project?.slug?t.find((t=>{let{slug:s}=t;return s===e.project?.slug})):void 0)??t[0];return e.error?(0,je.tZ)(Et,{errorType:e.errorType,onRetry:e.refetchData}):n?(0,je.tZ)(Dt,{message:(0,i.t)("Error loading the specified project")}):s&&r&&e.group?(0,je.tZ)(St,{...e,project:r,group:e.group}):(0,je.tZ)(f.Z,{})}function _t(e){const t=(0,d.Z)(),s=(0,z.T)(),r=(0,P.Z)(),{fetchData:i,project:o,group:a,...l}=yt(e),c=(0,B.Z)(s.pathname),u=(0,B.Z)(r.params.eventId),p=(0,B.Z)(e.isGlobalSelectionReady),{data:m}=(0,qe.by)({groupId:r.params.groupId,environment:e.environments},{enabled:e.isGlobalSelectionReady&&(0,D.ri)(a)}),g=m?.some((e=>"sample_event"===e.key))??!1;return(0,n.useEffect)((()=>{(p!==e.isGlobalSelectionReady||s.pathname!==c)&&i()}),[i,a,s.pathname,u,p,c,e.isGlobalSelectionReady,r.params.eventId]),(0,je.BX)(n.Fragment,{children:[g&&o&&(0,je.tZ)(gt,{project:o,organization:t}),(0,je.tZ)(x.Z,{noSuffix:!0,title:(()=>{const e="Sentry";if(!a)return e;const{title:s}=(0,k.YQ)(a,t?.features),n=(0,k.FC)(a),r=`${t.slug} - ${a.project.slug}`;return s&&n?`${s}: ${n} - ${r}`:`${s||n||e} - ${r}`})(),children:(0,je.tZ)(y.Z,{skipLoadLastUsed:!0,forceProject:o,shouldForceProject:!0,children:(0,je.tZ)(It,{...e,group:a,project:o,fetchData:i,...l})})})]})}St.displayName="GroupDetailsContent",It.displayName="GroupDetailsPageContent",_t.displayName="GroupDetails";const wt=h.zH(_t),Dt=(0,p.Z)(b.Z,{target:"e218s1f1"})("margin:",(0,_.D)(2),";"),Rt=(0,p.Z)(E.nP,{target:"e218s1f0"})({name:"1xwzzid",styles:"flex-grow:1;display:flex;flex-direction:column;justify-content:stretch"});function Tt(e){let{selection:t,...s}=e;const u=(0,d.Z)(),{projects:p}=(0,c.Z)(),m=(0,l.Z)(),{location:g}=s,h=g.query.project,v=p.find((e=>e.id===h));return(0,n.useEffect)((()=>{v?.slug&&function(e){let{api:t,orgSlug:s,projSlug:n}=e;t.requestPromise(`/projects/${s}/${n}/`).then(o.Z.onUpdateSuccess).catch((e=>{const t=(0,i.t)("Unable to fetch project details");(0,a.X)(t,e),(0,r.Iw)(t)}))}({api:m,orgSlug:u.slug,projSlug:v.slug})}),[m,u.slug,v?.slug]),(0,je.tZ)(wt,{environments:t.environments,organization:u,projects:p,...s})}Tt.displayName="IssueDetailsContainer";const kt=(0,u.Z)(Tt)},"./app/views/issueDetails/utils.tsx":(e,t,s)=>{s.d(t,{Ad:()=>m,M3:()=>h,V7:()=>l,by:()=>v,dG:()=>c,g5:()=>d,m7:()=>g,sC:()=>p});var n=s("../node_modules/lodash/orderBy.js"),r=s.n(n),i=s("./app/actionCreators/group.tsx"),o=s("./app/api.tsx"),a=s("./app/locale.tsx");function l(e,t,s,n){(0,i.Gv)(e,{orgId:t,projectId:s,itemIds:[n],failSilently:!0,data:{hasSeen:!0}},{})}function d(e,t){return(new o.KU).requestPromise(`/issues/${e}/user-reports/`,{includeAllArgs:!0,query:t})}function c(e){const t=e.tags.find((e=>{let{key:t}=e;return"environment"===t}));return t?t.value:null}const u={commented:(0,a.t)("You're receiving workflow notifications because you have commented on this issue."),assigned:(0,a.t)("You're receiving workflow notifications because you were assigned to this issue."),bookmarked:(0,a.t)("You're receiving workflow notifications because you have bookmarked this issue."),changed_status:(0,a.t)("You're receiving workflow notifications because you have changed the status of this issue."),mentioned:(0,a.t)("You're receiving workflow notifications because you have been mentioned in this issue.")};function p(e){if(e.subscriptionDetails&&e.subscriptionDetails.disabled)return(0,a.t)("You have disabled workflow notifications for this project.");if(!e.isSubscribed)return(0,a.t)("Subscribe to workflow notifications for this issue");if(e.subscriptionDetails){const{reason:t}=e.subscriptionDetails;if("unknown"===t)return(0,a.t)("You're receiving workflow notifications because you are subscribed to this issue.");if(t&&u.hasOwnProperty(t))return u[t]}return(0,a.t)("You're receiving updates because you are subscribed to workflow notifications for this project.")}function m(e){return r()([...e],(e=>{let{dateCreated:t}=e;return new Date(t)}),["desc"])[0]}let g;function h(e,t){const{status:s,count:n,activity:r}=e,i=Number(n);switch(s){case"reprocessing":return g.REPROCESSING;case"unresolved":{const e=t??m(r);return"reprocess"===e?.type?0===i?g.REPROCESSED_AND_HASNT_EVENT:g.REPROCESSED_AND_HAS_EVENT:g.NO_STATUS}default:return g.NO_STATUS}}!function(e){e.REPROCESSED_AND_HASNT_EVENT="reprocessed_and_hasnt_event",e.REPROCESSED_AND_HAS_EVENT="reprocessed_and_has_event",e.REPROCESSING="reprocessing",e.NO_STATUS="no_status"}(g||(g={}));const v=function(e){let{groupId:t,environment:s=[]}=e,{enabled:n=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,i.zk)({groupId:t,environment:s,readable:!0,limit:4},{enabled:n})}}}]);
//# sourceMappingURL=../sourcemaps/app_views_issueDetails_index_tsx.6b0b5f64ee484e262e9de809fef87c7d.js.map