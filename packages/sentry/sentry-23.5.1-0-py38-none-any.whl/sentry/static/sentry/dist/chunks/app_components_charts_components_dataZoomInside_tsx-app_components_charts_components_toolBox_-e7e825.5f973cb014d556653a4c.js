"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_components_charts_components_dataZoomInside_tsx-app_components_charts_components_toolBox_-e7e825"],{"./app/components/charts/components/dataZoomInside.tsx":(t,e,i)=>{i.d(e,{Z:()=>r}),i("../node_modules/echarts/lib/component/dataZoomInside.js");const s={type:"inside",zoomOnMouseWheel:!1,zoomLock:!0,throttle:50};function r(t){return t&&Array.isArray(t)?t:[{...s,...t}]}},"./app/components/charts/components/toolBox.tsx":(t,e,i)=>{function s(){let{dataZoom:t,...e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{...t?{dataZoom:{yAxisIndex:"none",title:{zoom:"zoom",back:"undo"},...t}}:{},...e}}function r(t,e){return{right:0,top:0,itemSize:16,z:-1,feature:s(e),...t}}i.d(e,{Z:()=>r})},"./app/components/charts/transparentLoadingMask.tsx":(t,e,i)=>{i.d(e,{Z:()=>n});var s=i("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),r=i("./app/components/loadingMask.tsx"),a=i("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const n=(0,s.Z)((t=>{let{className:e,visible:i,children:s,...n}=t;const o=i?{...n,"data-test-id":"loading-placeholder"}:n;return(0,a.tZ)(r.Z,{className:e,...o,children:s})}),{target:"e1t3xibm0"})((t=>!t.visible&&"display: none;"),";opacity:0.4;z-index:1;")},"./app/utils/performance/vitals/vitalsCardsDiscoverQuery.tsx":(t,e,i)=>{i.d(e,{Z:()=>p});var s=i("../node_modules/lodash/pick.js"),r=i.n(s),a=i("./app/utils/discover/genericDiscoverQuery.tsx"),n=i("./app/utils/performance/constants.tsx"),o=i("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function l(t){const{eventView:e,vitals:i}=t,s=e?.getEventsAPIPayload(t.location);return{vital:i,...r()(s,["query",...Object.values(n.s)])}}function d(t){return(0,o.tZ)(a.ZP,{getRequestPayload:l,route:"events-vitals",...t,children:e=>{let{tableData:i,...s}=e;return t.children({vitalsData:i,...s})}})}d.displayName="VitalsCardsDiscoverQuery";const p=d},"./app/views/performance/landing/vitalsCards.tsx":(t,e,i)=>{i.d(e,{JO:()=>F});var s=i("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),r=(i("../node_modules/core-js/modules/es.array.push.js"),i("../node_modules/react/index.js")),a=i("../node_modules/@sentry/core/esm/exports.js"),n=i("./app/components/card.tsx"),o=i("./app/components/charts/eventsRequest.tsx"),l=i("./app/components/charts/styles.tsx"),d=i("./app/components/charts/utils.tsx"),p=i("./app/components/emptyStateWarning.tsx"),c=(i("./app/components/links/link.tsx"),i("./app/components/placeholder.tsx")),m=i("./app/components/questionTooltip.tsx"),u=i("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),h=i("../node_modules/react-sparklines/build/index.js"),g=i("../node_modules/prop-types/index.js");class v extends h.Sparklines{}(0,u.Z)(v,"propTypes",{children:g.node,data:g.array,limit:g.number,width:g.number,height:g.number,svgWidth:g.number,svgHeight:g.number,preserveAspectRatio:g.string,margin:g.number,style:g.object,min:g.number,max:g.number,onMouseMove:g.func});var x=i("./app/components/tooltip.tsx"),f=i("./app/locale.tsx"),y=i("./app/styles/space.tsx"),Z=i("./app/utils.tsx"),b=i("./app/utils/dates.tsx"),w=i("./app/utils/discover/discoverQuery.tsx"),S=i("./app/utils/discover/fields.tsx"),j=i("./app/utils/fields/index.ts"),k=(i("./app/utils/performance/vitals/constants.tsx"),i("./app/utils/performance/vitals/vitalsCardsDiscoverQuery.tsx"),i("./app/utils/queryString.tsx"),i("./app/utils/theme.tsx")),D=i("./app/utils/toArray.tsx"),_=i("./app/utils/useApi.tsx"),P=i("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function N(t){return(0,P.tZ)(z,{barHeight:t.barHeight,fractions:t.colorStops.map((t=>{let{percent:e}=t;return e})),children:t.colorStops.map((t=>{const e=(0,P.tZ)(A,{color:t.color},t.color);return t.renderBarStatus?.(e,t.color)??e}))})}N.displayName="ColorBar";const z=(0,s.Z)("div",{target:"e19cfvm31"})("height:",(t=>t.barHeight?`${t.barHeight}px`:"16px"),";width:100%;overflow:hidden;position:relative;background:",(t=>t.theme.gray100),";display:grid;grid-template-columns:",(t=>t.fractions.map((t=>`${t}fr`)).join(" ")),";margin-bottom:",(t=>t.barHeight?"":(0,y.D)(1)),";border-radius:2px;"),A=(0,s.Z)("div",{target:"e19cfvm30"})("background-color:",(t=>t.theme[t.color]??t.color),";"),C=N;var H=i("./app/views/performance/vitalDetail/utils.tsx"),V=i("./app/utils/formatters.tsx");function B(t,e){const i=Array.isArray(t)||t===j.Zl.CLS?"":"ms";switch(e){case H.SP.POOR:return Array.isArray(t)?(0,f.t)("Poor"):(0,f._N)("(>[threshold][unit])",{threshold:H.eE[t],unit:i});case H.SP.MEH:return Array.isArray(t)?(0,f.t)("Meh"):(0,f._N)("(>[threshold][unit])",{threshold:H.MN[t],unit:i});case H.SP.GOOD:return Array.isArray(t)?(0,f.t)("Good"):(0,f._N)("(<=[threshold][unit])",{threshold:H.MN[t],unit:i});default:return null}}function M(t){return(0,P.tZ)(O,{children:t.percents.map((e=>(0,P.BX)(T,{"data-test-id":"vital-status",children:[H.Np[e.vitalState],t.showVitalPercentNames&&e.vitalState," ",(0,V.rl)(e.percent,0),t.showVitalThresholds&&B(t.vital,e.vitalState)]},e.vitalState)))})}M.displayName="VitalPercents";const O=(0,s.Z)("div",{target:"ezsdbhk1"})("display:inline-grid;grid-auto-flow:column;gap:",(0,y.D)(2),";"),T=(0,s.Z)("div",{target:"ezsdbhk0"})("display:flex;align-items:center;gap:",(0,y.D)(.5),";font-size:",(t=>t.theme.fontSizeMedium),";");var I=i("./app/views/performance/landing/utils.tsx");function q(t){const e=(0,_.Z)(),{eventView:i,location:s,organization:r,functions:n}=t,{query:l}=s,p=i.withColumns(n),c=p.getPageFilters(),m=c.datetime.start?(0,b.hC)(c.datetime.start):void 0,u=c.datetime.end?(0,b.hC)(c.datetime.end):void 0,h="string"==typeof l.sparkInterval?l.sparkInterval:(0,d.ZS)({start:m||null,end:u||null,period:c.datetime.period},"low"),g=p.getEventsAPIPayload(s);return(0,P.tZ)(w.Z,{location:s,eventView:p,orgSlug:r.slug,limit:1,referrer:"api.performance.vitals-cards",children:t=>{let{isLoading:i,tableData:s}=t;return(0,P.tZ)(o.Z,{api:e,organization:r,period:c.datetime.period,project:c.projects,environment:c.environments,team:g.team,start:m,end:u,interval:h,query:g.query,includePrevious:!1,yAxis:p.getFields(),partial:!0,children:t=>{let{results:e}=t;const o=e?.reduce(((t,e)=>(t[e.seriesName]=e.data.map((t=>t.value)),t)),{}),l=(0,I.hv)(r);return(0,P.tZ)(X,{children:n.map((t=>{let e=(0,S.sN)(t);e.includes("apdex")&&(e="apdex()");const r=l[e];if(!r)return a.uT(`Missing field '${e}' in vital cards.`),null;const{title:n,tooltip:d,formatter:p}=r,c=(0,S.LY)(e),m=s?.data?.[0]?.[c],u=o?.[e],h=i||!(0,Z.ri)(m)?"—":p(m),g=(0,P.tZ)(L,{data:u});return(0,P.tZ)(Q,{title:n,tooltip:d,value:h,chart:g,horizontal:!0,minHeight:96,isNotInteractive:!0},e)}))})}})}})}function L(t){const{data:e}=t,i=k.ZP.charts.getColorPalette(1)[0];return(0,P.tZ)(E,{"data-test-id":"sparkline",width:150,height:24,children:(0,P.tZ)(v,{data:e,width:150,height:24,children:(0,P.tZ)(h.SparklinesLine,{style:{stroke:i,fill:"none",strokeWidth:3}})})})}(0,y.D)(1.5),q.displayName="GenericCards",L.displayName="SparklineChart";const E=(0,s.Z)("div",{target:"e3mv3gn8"})("flex-grow:4;max-height:",(t=>t.height),"px;max-width:",(t=>t.width),"px;margin:",(0,y.D)(1)," ",(0,y.D)(0)," ",(0,y.D)(.5)," ",(0,y.D)(3),";"),X=(0,s.Z)("div",{target:"e3mv3gn7"})("display:grid;grid-template-columns:1fr;grid-column-gap:",(0,y.D)(2),";@media (min-width: ",(t=>t.theme.breakpoints.small),"){grid-template-columns:repeat(2, 1fr);}@media (min-width: ",(t=>t.theme.breakpoints.large),"){grid-template-columns:repeat(auto-fit, minmax(200px, 1fr));}");function F(t){const{isLoading:e,data:i,vital:s,value:a,showBar:n=!0,showStates:o=!1,showDurationDetail:l=!1,showVitalPercentNames:d=!0,showVitalThresholds:p=!1,showDetail:m=!0,showTooltip:u=!1,barHeight:h}=t;if(e)return o?(0,P.tZ)(c.Z,{height:"48px"}):null;const g=o?(0,P.tZ)(G,{small:!0,children:(0,f.t)("No vitals found")}):null;if(!i)return g;const v={poor:0,meh:0,good:0,total:0};if((0,D.Z)(s).forEach((t=>{const e=i?.[t]??{};Object.keys(v).forEach((t=>v[t]+=e[t]))})),!v.total)return g;const x=Array.isArray(s)?null:a??function(t,e){const i=t?.p75??null;return null===i?"—":e===j.Zl.CLS?i.toFixed(2):`${i.toFixed(0)}ms`}(i?.[s]??null,s),y=function(t){let{poor:e,meh:i,good:s,total:r}=t;const a=e/r,n=i/r,o=s/r;return[{vitalState:H.SP.GOOD,percent:o},{vitalState:H.SP.MEH,percent:n},{vitalState:H.SP.POOR,percent:a}]}(v),Z=function(t){return t.map((t=>{let{percent:e,vitalState:i}=t;return{percent:e,color:H.fL[i]}}))}(y);return(0,P.BX)(r.Fragment,{children:[n&&(0,P.tZ)(W,{title:(0,P.tZ)(M,{vital:s,percents:y,showVitalPercentNames:!1,showVitalThresholds:!1,hideTooltips:u}),disabled:!u,position:"bottom",children:(0,P.tZ)(C,{barHeight:h,colorStops:Z})}),m&&(0,P.BX)(J,{children:[l&&x&&(0,P.BX)("div",{children:[(0,f.t)("The p75 for all transactions is "),(0,P.tZ)("strong",{children:x})]}),(0,P.tZ)(M,{vital:s,percents:y,showVitalPercentNames:d,showVitalThresholds:p})]})]})}F.displayName="VitalBar";const G=(0,s.Z)(p.Z,{target:"e3mv3gn6"})("height:48px;padding:",(0,y.D)(1.5)," 15%;");function Q(t){const{chart:e,minHeight:i,horizontal:s,title:r,tooltip:a,value:n,isNotInteractive:o}=t;return(0,P.BX)($,{interactive:!o,minHeight:i,children:[(0,P.BX)(l.Gh,{children:[(0,P.tZ)(K,{children:r}),(0,P.tZ)(m.Z,{size:"sm",position:"top",title:a})]}),(0,P.BX)(R,{horizontal:s,children:[(0,P.tZ)(Y,{children:n}),e]})]})}Q.displayName="VitalCard";const R=(0,s.Z)("div",{target:"e3mv3gn5"})("width:100%;display:flex;flex-direction:",(t=>t.horizontal?"row":"column"),";justify-content:space-between;"),$=(0,s.Z)(n.Z,{target:"e3mv3gn4"})("color:",(t=>t.theme.textColor),";padding:",(0,y.D)(2)," ",(0,y.D)(3),";align-items:flex-start;margin-bottom:",(0,y.D)(2),";",(t=>t.minHeight&&`min-height: ${t.minHeight}px`),";"),W=(0,s.Z)(x.u,{target:"e3mv3gn3"})({name:"1d3w5wq",styles:"width:100%"});const J=(0,s.Z)("div",{target:"e3mv3gn2"})("font-size:",(t=>t.theme.fontSizeMedium),";@media (min-width: ",(t=>t.theme.breakpoints.small),"){display:flex;justify-content:space-between;}"),Y=(0,s.Z)("div",{target:"e3mv3gn1"})("font-size:32px;margin-top:",(0,y.D)(1),";"),K=(0,s.Z)("div",{target:"e3mv3gn0"})((t=>t.theme.overflowEllipsis),";")}}]);
//# sourceMappingURL=../sourcemaps/app_components_charts_components_dataZoomInside_tsx-app_components_charts_components_toolBox_-e7e825.019c6aa42d2c8d7509b9e7da4845eeaa.js.map