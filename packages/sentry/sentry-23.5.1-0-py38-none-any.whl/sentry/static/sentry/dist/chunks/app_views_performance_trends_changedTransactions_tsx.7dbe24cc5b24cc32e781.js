"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_views_performance_trends_changedTransactions_tsx"],{"./app/components/charts/chartZoom.tsx":(e,t,n)=>{n.d(t,{Z:()=>y});var r=n("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),o=(n("../node_modules/core-js/modules/es.array.push.js"),n("../node_modules/react/index.js")),s=n("../node_modules/moment/moment.js"),a=n.n(s),i=n("../node_modules/query-string/index.js"),d=n("./app/actionCreators/pageFilters.tsx"),l=n("./app/components/charts/components/dataZoomInside.tsx");n("../node_modules/echarts/lib/component/dataZoomSlider.js");const c={realtime:!1,showDetail:!1,left:0,right:6,bottom:8};function p(e){return e&&Array.isArray(e)?e:[{...c,...e}]}var u=n("./app/components/charts/components/toolBox.tsx"),m=n("./app/utils/callIfFunction.tsx"),h=n("./app/utils/dates.tsx");const g=e=>e?a().utc(e).format(a().HTML5_FMT.DATETIME_LOCAL_SECONDS):null;class x extends o.Component{constructor(e){var t;super(e),t=this,(0,r.Z)(this,"history",void 0),(0,r.Z)(this,"currentPeriod",void 0),(0,r.Z)(this,"zooming",null),(0,r.Z)(this,"saveCurrentPeriod",(e=>{this.currentPeriod={period:e.period,start:g(e.start),end:g(e.end)}})),(0,r.Z)(this,"setPeriod",(function(e){let{period:n,start:r,end:o}=e,s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{router:a,onZoom:l,usePageDate:c}=t.props,p=g(r),u=g(o);s&&t.history.push(t.currentPeriod),l?.({period:n,start:p,end:u}),t.zooming=()=>{if(c&&a){const e={...a.location.query,pageStart:r?(0,h.v5)(r):void 0,pageEnd:o?(0,h.v5)(o):void 0,pageStatsPeriod:n??void 0};i.stringify(e)!==i.stringify(a.location.query)&&a.push({pathname:a.location.pathname,query:e})}else(0,d.dR)({period:n,start:p?(0,h.hC)(p):p,end:u?(0,h.hC)(u):u},a,{skipDesyncUpdate:!0});t.saveCurrentPeriod({period:n,start:r,end:o})}})),(0,r.Z)(this,"handleChartReady",(e=>{this.props.onChartReady?.(e)})),(0,r.Z)(this,"handleZoomRestore",((e,t)=>{this.history.length&&(this.setPeriod(this.history[0]),this.history=[],this.props.onRestore?.(e,t))})),(0,r.Z)(this,"handleDataZoom",((e,t)=>{const n=t.getModel(),{startValue:r,endValue:o}=n._payload.batch[0];if(null===r&&null===o){const e=this.history.pop();if(!e)return;this.setPeriod(e)}else{const e=a().utc(r),t=a().utc(o);this.setPeriod({period:null,start:e,end:t},!0)}this.props.onDataZoom?.(e,t)})),(0,r.Z)(this,"handleChartFinished",((e,t)=>{"function"==typeof this.zooming&&(this.zooming(),this.zooming=null);const n=t._componentsViews?.find((e=>e._features&&e._features.dataZoom));n&&!n._features.dataZoom._isZoomActive&&t.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:!0}),(0,m.g)(this.props.onFinished)})),this.history=[],this.saveCurrentPeriod(e)}componentDidUpdate(){this.props.disabled||this.saveCurrentPeriod(this.props)}render(){const{utc:e,start:t,end:n,disabled:r,children:o,xAxisIndex:s,router:a,onZoom:i,onRestore:d,onChartReady:c,onDataZoom:m,onFinished:g,showSlider:x,chartZoomOptions:y,...Z}=this.props,f=e??void 0,v=t?(0,h.hC)(t):void 0,_=n?(0,h.hC)(n):void 0;return o(r?{utc:f,start:v,end:_,...Z}:{isGroupedByDate:!0,onChartReady:this.handleChartReady,utc:f,start:v,end:_,dataZoom:x?[...p({xAxisIndex:s,...y}),...(0,l.Z)({xAxisIndex:s,...y})]:(0,l.Z)({xAxisIndex:s,...y}),showTimeInTooltip:!0,toolBox:(0,u.Z)({},{dataZoom:{title:{zoom:"",back:""},iconStyle:{borderWidth:0,color:"transparent",opacity:0}}}),onDataZoom:this.handleDataZoom,onFinished:this.handleChartFinished,onRestore:this.handleZoomRestore,...Z})}}x.displayName="ChartZoom";const y=x},"./app/components/charts/transitionChart.tsx":(e,t,n)=>{n.d(t,{Z:()=>d});var r=n("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),o=n("../node_modules/react/index.js"),s=n("./app/components/charts/loadingPanel.tsx"),a=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class i extends o.Component{constructor(){super(...arguments),(0,r.Z)(this,"state",{prevReloading:this.props.reloading,prevLoading:this.props.loading,key:1})}static getDerivedStateFromProps(e,t){const n=t.prevReloading,r=e.reloading,o=t.prevLoading,s=e.loading;return o!==s?{prevReloading:r,prevLoading:s,key:t.key+1}:s?{prevReloading:r,prevLoading:s,key:t.key}:n&&!r?{prevReloading:r,prevLoading:s,key:t.key+1}:{prevReloading:r,prevLoading:s,key:t.key}}render(){const{height:e,loading:t,reloading:n}=this.props;return t&&!n?(0,a.tZ)(s.Z,{height:e,"data-test-id":"events-request-loading"}):(0,a.tZ)(o.Fragment,{children:this.props.children},String(this.state.key))}}i.displayName="TransitionChart",(0,r.Z)(i,"defaultProps",{height:"200px"});const d=i},"./app/utils/performance/trends/trendsDiscoverQuery.tsx":(e,t,n)=>{n.d(t,{ZP:()=>p,iC:()=>c});var r=n("./app/utils/discover/genericDiscoverQuery.tsx"),o=n("./app/utils/withProjects.tsx"),s=n("./app/views/performance/trends/utils.tsx"),a=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function i(e){const{eventView:t,projects:n}=e,r=t?.getEventsAPIPayload(e.location),o=(0,s.CE)(e.location,e.trendFunctionField),a=(0,s.IO)(e.location,n,t.project);return r.trendFunction=(0,s.ed)(o.field,a.column),r.trendType=t?.trendType||e.trendChangeType,r.interval=t?.interval,r.middle=t?.middle,r}function d(e){const t=e.withBreakpoint?"events-trends-statsv2":"events-trends-stats";return(0,a.tZ)(r.ZP,{...e,route:t,getRequestPayload:i,children:t=>{let{tableData:n,...r}=t;return e.children({trendsData:n,...r})}})}function l(e){return(0,a.tZ)(r.ZP,{...e,route:"events-trends",getRequestPayload:i,children:t=>{let{tableData:n,...r}=t;return e.children({trendsData:n,...r})}})}d.displayName="TrendsDiscoverQuery",l.displayName="EventsDiscoverQuery";const c=(0,o.Z)(l),p=(0,o.Z)(d)},"./app/views/performance/trends/changedTransactions.tsx":(e,t,n)=>{n.d(t,{H:()=>G,Z:()=>ce});var r,o=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),s=(n("../node_modules/core-js/modules/es.array.push.js"),n("../node_modules/core-js/modules/es.error.cause.js"),n("../node_modules/react/index.js")),a=n("../node_modules/react-router/es/index.js"),i=n("./app/components/button.tsx"),d=n("./app/components/charts/styles.tsx"),l=n("./app/components/count.tsx"),c=n("./app/components/dropdownLink.tsx"),p=n("./app/components/duration.tsx"),u=n("./app/components/emptyStateWarning.tsx"),m=n("./app/components/forms/controls/radioGroup.tsx"),h=n("./app/components/idBadge/index.tsx"),g=n("./app/components/links/link.tsx"),x=n("./app/components/loadingIndicator.tsx"),y=n("./app/components/menuItem.tsx"),Z=n("./app/components/pagination.tsx"),f=n("./app/components/panels/index.tsx"),v=n("./app/components/questionTooltip.tsx"),_=n("./app/components/radio.tsx"),w=n("./app/components/tooltip.tsx"),b=n("./app/icons/index.tsx"),C=n("./app/locale.tsx"),j=n("./app/styles/space.tsx"),S=n("./app/utils/analytics.tsx"),k=n("./app/utils/formatters.tsx"),E=n("./app/utils/performance/trends/trendsDiscoverQuery.tsx"),R=n("./app/utils/queryString.tsx"),T=n("./app/utils/tokenizeSearch.tsx"),D=n("./app/utils/useApi.tsx"),P=n("./app/utils/withOrganization.tsx"),L=n("./app/utils/withProjects.tsx"),z=n("./app/views/performance/transactionSummary/utils.tsx"),A=n("./app/views/performance/trends/chart.tsx"),q=n("./app/views/performance/trends/types.tsx"),F=n("./app/views/performance/trends/utils.tsx"),I=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function N(e){switch(e){case q.ER.IMPROVED:return(0,C.t)("Most Improved Transactions");case q.ER.REGRESSION:return(0,C.t)("Most Regressed Transactions");default:throw new Error("No trend type passed")}}function B(e,t,n){const r=(0,F.j_)(t),o=(0,R.ro)(e.query[r]);if(!n)return;return n.find((e=>`${e.transaction}-${e.project}`===o))||(n.length>0?n[0]:void 0)}function M(e,t,n){return function(r){const o=(0,F.j_)(n),s={...e.query};r?s[o]=r?`${r.transaction}-${r.project}`:void 0:delete s[o],a.browserHistory.push({pathname:e.pathname,query:s}),(0,S.Gi)("performance_views.trends.widget_interaction",{organization:t,widget_type:n})}}function V(e,t,n,o,s,i,d){const l=(0,F.IO)(e,i,d).column,c=(0,R.ro)(e.query.query),p=new T.MY(c??""),u=p.getFilterValues(l),m=o===r.GREATER_THAN_EQUALS?">":"<";u&&u.forEach((e=>{(e.startsWith(o)||e.startsWith(m))&&p.removeFilterValue(l,e)})),p.addFilterValues(l,[`${o}${n}`]);const h=p.formatString();a.browserHistory.push({pathname:e.pathname,query:{...e.query,query:String(h).trim()}}),(0,S.Gi)("performance_views.trends.change_duration",{organization:t,widget_type:N(s),value:`${o}${n}`})}function X(e){const{location:t,trendChangeType:n,previousTrendFunction:r,previousTrendColumn:o,organization:i,projects:d,setError:l,withBreakpoint:c}=e,p=(0,D.Z)(),u=e.trendView.clone(),m=N(n);(0,F.kM)(u,t,n,d,i);const h=(e=>(t,n,r)=>{const o={};e===q.ER.IMPROVED?o.improvedCursor=t:e===q.ER.REGRESSION&&(o.regressionCursor=t),delete r[(0,F.j_)(e)],a.browserHistory.push({pathname:n,query:{...r,...o}})})(n),g=(0,R.ro)(t.query[F.vt[n]]),y=e=>{(0,S.Gi)("performance_views.trends.widget_pagination",{organization:i,direction:e,widget_type:N(n)})};return(0,I.tZ)(E.ZP,{eventView:u,orgSlug:i.slug,location:t,trendChangeType:n,cursor:g,limit:5,setError:e=>l(e?.message),withBreakpoint:c,children:a=>{let{isLoading:l,trendsData:g,pageLinks:f}=a;const _=(0,F.CE)(t),w=(0,F.IO)(t,d,u.project),b=(0,F.RP)(g&&g.events&&g.events.data||[]),j=B(t,n,b),S=g?.stats||{},k=b&&b.slice?b.slice(0,5):[],E=l&&r?r:_.field,R=l&&o?o:w.column,T=(0,C.t)("This compares the baseline (%s) of the past with the present.",_.legendLabel);return(0,I.BX)($,{"data-test-id":"changed-transactions",children:[(0,I.BX)(U,{children:[(0,I.BX)(Y,{children:[m," ",!c&&"Indexed",(0,I.tZ)(v.Z,{size:"sm",position:"top",title:T})]}),l?(0,I.tZ)(x.Z,{style:{margin:"237px auto"}}):(0,I.tZ)(s.Fragment,{children:k.length?(0,I.BX)(s.Fragment,{children:[(0,I.tZ)(W,{children:(0,I.tZ)(A.Z,{statsData:S,query:u.query,project:u.project,environment:u.environment,start:u.start,end:u.end,statsPeriod:u.statsPeriod,transaction:j,isLoading:l,...e})}),k.map(((r,o)=>(0,I.tZ)(O,{api:p,currentTrendFunction:E,currentTrendColumn:R,trendView:e.trendView,organization:i,transaction:r,index:o,trendChangeType:n,transactions:k,location:t,projects:d,statsData:S,handleSelectTransaction:M(t,i,n)},r.transaction)))]}):(0,I.tZ)(ee,{small:!0,children:(0,C.t)("No results")})})]}),(0,I.tZ)(Z.Z,{pageLinks:f,onCursor:h,paginationAnalyticsEvent:y})]})}})}function O(e){const{transaction:t,transactions:n,trendChangeType:o,currentTrendFunction:i,currentTrendColumn:d,index:p,location:u,organization:g,projects:x,handleSelectTransaction:Z,trendView:f}=e,v=F.es[o].default,j=B(u,o,n)===t,S=x.find((e=>{let{slug:n}=e;return n===t.project})),E=t.aggregate_range_2,D=t.aggregate_range_1,P=(0,k.rl)(Math.abs(t.trend_percentage-1),0),L=(0,k.g9)(D/1e3,D<1e3&&D>10?0:2),z=(0,k.g9)(E/1e3,E<1e3&&E>10?0:2),A=(0,C.t)("Over this period, the %s for %s has %s %s from %s to %s",i,d,o===q.ER.IMPROVED?(0,C.t)("decreased"):(0,C.t)("increased"),P,L,z),N=o===q.ER.IMPROVED?D:E,M=o===q.ER.IMPROVED?L:z;return(0,I.BX)(te,{"data-test-id":"trends-list-item-"+o,children:[(0,I.tZ)(ne,{color:v,children:t.count_range_1&&t.count_range_2?(0,I.tZ)(w.u,{title:(0,I.BX)(de,{children:[(0,I.tZ)("span",{children:(0,C.t)("Total Events")}),(0,I.BX)("span",{children:[(0,I.tZ)(l.Z,{value:t.count_range_1}),(0,I.tZ)(le,{direction:"right",size:"xs"}),(0,I.tZ)(l.Z,{value:t.count_range_2})]})]}),disableForVisualTest:!0,children:(0,I.tZ)(m.V,{index:p,role:"radio",children:(0,I.tZ)(_.Z,{checked:j,onChange:()=>Z(t)})})}):(0,I.tZ)(m.V,{index:p,role:"radio",children:(0,I.tZ)(_.Z,{checked:j,onChange:()=>Z(t)})})}),(0,I.tZ)(Q,{...e}),(0,I.tZ)(ae,{children:(0,I.tZ)(w.u,{title:A,children:(0,I.BX)(s.Fragment,{children:[o===q.ER.REGRESSION?"+":"",(0,k.rl)(t.trend_percentage-1,0)]})})}),(0,I.BX)(c.Z,{caret:!1,anchorRight:!0,title:(0,I.tZ)(K,{size:"xs",icon:(0,I.tZ)(b.YR,{"data-test-id":"trends-item-action",size:"xs"}),"aria-label":(0,C.t)("Actions")}),children:[!g.features.includes("performance-new-trends")&&(0,I.BX)(s.Fragment,{children:[(0,I.tZ)(y.Z,{onClick:()=>V(u,g,N,r.LESS_THAN_EQUALS,o,x,f.project),children:(0,I.tZ)(J,{children:(0,C.t)("Show ≤ %s",M)})}),(0,I.tZ)(y.Z,{onClick:()=>V(u,g,N,r.GREATER_THAN_EQUALS,o,x,f.project),children:(0,I.tZ)(J,{children:(0,C.t)("Show ≥ %s",M)})})]}),(0,I.tZ)(y.Z,{onClick:()=>function(e,t){const n=(0,R.ro)(e.query.query),r=new T.MY(n??"");r.addFilterValues("!transaction",[t]);const o=r.formatString();a.browserHistory.push({pathname:e.pathname,query:{...e.query,query:String(o).trim()}})}(u,t.transaction),children:(0,I.tZ)(J,{children:(0,C.t)("Hide from list")})})]}),(0,I.BX)(oe,{children:[S&&(0,I.tZ)(w.u,{title:t.project,children:(0,I.tZ)(h.Z,{avatarSize:16,project:S,hideName:!0})}),(0,I.tZ)(G,{...e})]}),(0,I.tZ)(ie,{color:v,children:(0,I.tZ)(H,{...e})})]})}function G(e){let{transaction:t}=e;const{fromSeconds:n,toSeconds:r,showDigits:o}=(0,F.Kt)(t.aggregate_range_1,t.aggregate_range_2);return(0,I.BX)(se,{children:[(0,I.tZ)(p.Z,{seconds:n,fixedDigits:o?1:0,abbreviation:!0}),(0,I.tZ)(le,{direction:"right",size:"xs"}),(0,I.tZ)(p.Z,{seconds:r,fixedDigits:o?1:0,abbreviation:!0})]})}function H(e){let{transaction:t,trendChangeType:n}=e;const{seconds:r,fixedDigits:o,changeLabel:s}=(0,F.wx)(t.trend_difference,n);return(0,I.BX)("span",{children:[(0,I.tZ)(p.Z,{seconds:r,fixedDigits:o,abbreviation:!0})," ",s]})}function Q(e){const{organization:t,trendView:n,transaction:r,projects:o,currentTrendFunction:s,currentTrendColumn:a}=e,i=n.clone(),d=(0,F._H)(r,o),l=(0,z.e1)({orgSlug:t.slug,transaction:String(r.transaction),query:i.generateQueryStringObject(),projectID:d,display:z.DC.TREND,trendFunction:s,trendColumn:a});return(0,I.tZ)(re,{to:l,"data-test-id":"item-transaction-name",children:r.transaction})}!function(e){e.GREATER_THAN_EQUALS=">=",e.LESS_THAN_EQUALS="<="}(r||(r={})),X.displayName="ChangedTransactions",O.displayName="TrendsListItem",G.displayName="CompareDurations",H.displayName="ValueDelta",Q.displayName="TransactionSummaryLink";const $=(0,o.Z)("div",{target:"efd374915"})({name:"1fttcpj",styles:"display:flex;flex-direction:column"}),U=(0,o.Z)(f.s_,{target:"efd374914"})({name:"154zghl",styles:"margin:0;flex-grow:1"}),W=(0,o.Z)("div",{target:"efd374913"})("padding:",(0,j.D)(3),";"),Y=(0,o.Z)(d.ws,{target:"efd374912"})("border-radius:",(e=>e.theme.borderRadius),";margin:",(0,j.D)(2)," ",(0,j.D)(3),";"),K=(0,o.Z)(i.zx,{target:"efd374911"})({name:"1989ovb",styles:"vertical-align:middle"}),J=(0,o.Z)("div",{target:"efd374910"})("white-space:nowrap;color:",(e=>e.theme.textColor),";");J.defaultProps={"data-test-id":"menu-action"};const ee=(0,o.Z)(u.Z,{target:"efd37499"})({name:"1t1oqhu",styles:"min-height:300px;justify-content:center"}),te=(0,o.Z)("div",{target:"efd37498"})("display:grid;grid-template-columns:24px auto 100px 30px;grid-template-rows:repeat(2, auto);grid-column-gap:",(0,j.D)(1),";border-top:1px solid ",(e=>e.theme.border),";padding:",(0,j.D)(1)," ",(0,j.D)(2),";"),ne=(0,o.Z)("div",{target:"efd37497"})("grid-row:1/3;input{cursor:pointer;}input:checked::after{background-color:",(e=>e.color),";}"),re=(0,o.Z)(g.Z,{target:"efd37496"})("font-size:",(e=>e.theme.fontSizeMedium),";margin-right:",(0,j.D)(1),";",(e=>e.theme.overflowEllipsis),";"),oe=(0,o.Z)("div",{target:"efd37495"})("display:flex;align-items:center;font-size:",(e=>e.theme.fontSizeSmall),";"),se=(0,o.Z)("span",{target:"efd37494"})("color:",(e=>e.theme.gray300),";margin:0 ",(0,j.D)(1),";"),ae=(0,o.Z)("div",{target:"efd37493"})("text-align:right;font-size:",(e=>e.theme.fontSizeMedium),";"),ie=(0,o.Z)("div",{target:"efd37492"})("color:",(e=>e.color),";text-align:right;font-size:",(e=>e.theme.fontSizeSmall),";"),de=(0,o.Z)("div",{target:"efd37491"})({name:"zigog8",styles:"display:flex;flex-direction:column;align-items:center"}),le=(0,o.Z)(b.CC,{target:"efd37490"})("margin:0 ",(0,j.D)(1),";"),ce=(0,L.Z)((0,P.Z)(X))},"./app/views/performance/trends/chart.tsx":(e,t,n)=>{n.d(t,{Z:()=>w,k:()=>_}),n("../node_modules/core-js/modules/es.array.push.js");var r=n("../node_modules/react-router/es/index.js"),o=n("../node_modules/@emotion/react/dist/emotion-element-6a883da9.browser.esm.js"),s=n("./app/components/charts/chartZoom.tsx"),a=n("./app/components/charts/lineChart.tsx"),i=n("./app/components/charts/transitionChart.tsx"),d=n("./app/components/charts/transparentLoadingMask.tsx"),l=n("./app/components/organizations/pageFilters/parse.tsx"),c=n("./app/locale.tsx"),p=n("./app/utils/dates.tsx"),u=n("./app/utils/discover/charts.tsx"),m=n("./app/utils/discover/fields.tsx"),h=n("./app/utils/getDynamicText.tsx"),g=n("./app/utils/queryString.tsx"),x=n("./app/utils/useLocation.tsx"),y=n("./app/utils/useRouter.tsx"),Z=n("./app/views/performance/trends/utils.tsx"),f=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function v(e){return{right:10,top:0,itemGap:12,align:"left",data:[{name:"Baseline",icon:"path://M180 1000 l0 -40 200 0 200 0 0 40 0 40 -200 0 -200 0 0 -40z, M810 1000 l0 -40 200 0 200 0 0 40 0 40 -200 0 -200 0 0 -40zm, M1440 1000 l0 -40 200 0 200 0 0 40 0 40 -200 0 -200 0 0 -40z"},{name:"Releases"},{name:e}]}}function _(e){let{trendChangeType:t,statsPeriod:n,transaction:_,statsData:w,isLoading:b,start:C,end:j,trendFunctionField:S,disableXAxis:k,disableLegend:E,grid:R,height:T,projects:D,project:P}=e;const L=(0,x.T)(),z=(0,y.Z)(),A=(0,o.u)(),q=e=>{const{selected:n}=e,o=Object.keys(n).filter((e=>!n[e])),s={...L.query};s[(0,Z.P4)(t)]=o;const a={...L,query:s};r.browserHistory.push(a)},F=Z.es[t||""],I=w&&_?.project&&_?.transaction?w[[_.project,_.transaction].join(",")]:void 0,N=I?.data??[],B=(0,Z.CE)(L,S),M=(0,Z.IO)(L,D,P),V=(0,Z.ed)(B.field,M.column),X=function(e,t){return[{seriesName:t||"Current",data:e.map((e=>{let[t,n]=e;return{name:1e3*t,value:n.reduce(((e,t)=>{let{count:n}=t;return e+n}),0)}}))}]}(N,V),{smoothedResults:O,minValue:G,maxValue:H}=(0,Z.vq)(X,V),Q=C?(0,p.hC)(C):null,$=j?(0,p.hC)(j):null,{utc:U}=(0,l.fK)(L.query),W=(0,g.qP)(L.query[(0,Z.P4)(t)]).reduce(((e,t)=>(e[t]=!1,e)),{}),Y=E?{show:!1}:{...v(V),selected:W},K=b,J=b,ee=Math.max(H,_?.aggregate_range_2||0,_?.aggregate_range_1||0),te=Math.min(G,_?.aggregate_range_1||Number.MAX_SAFE_INTEGER,_?.aggregate_range_2||Number.MAX_SAFE_INTEGER),ne=O?O.map((e=>({...e,color:F.default,lineStyle:{opacity:1}}))):[],re=function(e,t,n,r){if(!(r&&t.length&&t[0].data&&t[0].data.length))return[];const o=function(e){return e&&e.breakpoint?{...e,breakpoint:1e3*e.breakpoint}:e}(r),s=parseInt(t[0].data[0].name,10),a=parseInt(t[0].data.slice(-1)[0].name,10);if(a<s)return[];const i={data:[],color:e.textColor,markLine:{data:[],label:{},lineStyle:{color:e.textColor,type:"dashed",width:1},symbol:["none","none"],tooltip:{show:!1}},seriesName:"Baseline"},d={fontSize:11,show:!0,color:e.textColor,silent:!0},l={...i,markLine:{...i.markLine},seriesName:"Baseline"},p={...i,markLine:{...i.markLine},seriesName:"Baseline"},m={...i,markLine:{...i.markLine},seriesName:"Period split"},h=.5*(a-s)+s,{breakpoint:g}=o,x=g||h;return l.markLine.data=[[{value:"Past",coord:[s,o.aggregate_range_1]},{coord:[x,o.aggregate_range_1]}]],l.markLine.tooltip={formatter:()=>['<div class="tooltip-series tooltip-series-solo">',"<div>",`<span class="tooltip-label"><strong>${(0,c.t)("Past Baseline")}</strong></span>`,(0,u.CX)(o.aggregate_range_1,"duration"),"</div>","</div>",'<div class="tooltip-arrow"></div>'].join("")},p.markLine.data=[[{value:"Present",coord:[x,o.aggregate_range_2]},{coord:[a,o.aggregate_range_2]}]],p.markLine.tooltip={formatter:()=>['<div class="tooltip-series tooltip-series-solo">',"<div>",`<span class="tooltip-label"><strong>${(0,c.t)("Present Baseline")}</strong></span>`,(0,u.CX)(o.aggregate_range_2,"duration"),"</div>","</div>",'<div class="tooltip-arrow"></div>'].join("")},m.markLine={data:[{xAxis:x}],label:{show:!1},lineStyle:{color:e.textColor,type:"solid",width:2},symbol:["none","none"],tooltip:{show:!1},silent:!0},l.markLine.label={...d,formatter:"Past",position:"insideStartBottom"},p.markLine.label={...d,formatter:"Present",position:"insideEndBottom"},[l,p,m]}(A,O||[],0,_),oe=.1*(ee-te),se=[...ne,...re],ae=(0,u.Xp)(se),ie={tooltip:{valueFormatter:(e,t)=>(0,u.CX)(e,(0,m.Px)(t))},yAxis:{min:Math.max(0,te-oe),max:ee+oe,minInterval:ae,axisLabel:{color:A.chartLabel,formatter:e=>(0,u.gu)(e,"duration",void 0,ae)}}};return(0,f.tZ)(s.Z,{router:z,period:n,start:Q,end:$,utc:"true"===U,children:e=>(0,f.BX)(i.Z,{loading:K,reloading:J,children:[(0,f.tZ)(d.Z,{visible:J}),(0,h.Z)({value:(0,f.tZ)(a.w,{height:T,...e,...ie,onLegendSelectChanged:q,series:se,seriesOptions:{showSymbol:!1},legend:Y,toolBox:{show:!1},grid:R??{left:"10px",right:"10px",top:"40px",bottom:"0px"},xAxis:k?{show:!1}:void 0}),fixed:"Duration Chart"})]})})}_.displayName="Chart";const w=_}}]);
//# sourceMappingURL=../sourcemaps/app_views_performance_trends_changedTransactions_tsx.2c2914c80fb891c5557e6888096b06d0.js.map