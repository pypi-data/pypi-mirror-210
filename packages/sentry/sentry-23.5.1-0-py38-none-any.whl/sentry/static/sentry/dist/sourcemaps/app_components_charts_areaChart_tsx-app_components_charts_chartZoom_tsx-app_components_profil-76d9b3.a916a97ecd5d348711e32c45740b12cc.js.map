{"version":3,"file":"chunks/app_components_charts_areaChart_tsx-app_components_charts_chartZoom_tsx-app_components_profil-76d9b3.xxxxxxxxxxxxxxxxxxxx.js","mappings":"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","sources":["webpack:///./app/components/charts/areaChart.tsx","webpack:///./app/components/charts/series/areaSeries.tsx","webpack:///./app/components/charts/components/dataZoomSlider.tsx","webpack:///./app/components/charts/chartZoom.tsx","webpack:///./app/components/performanceDuration.tsx","webpack:///./app/components/profiling/arrayLinks.tsx","webpack:///./app/components/profiling/suspectFunctions/functionsTable.tsx","webpack:///./app/components/profiling/suspectFunctions/suspectFunctionsTable.tsx","webpack:///./app/utils/profiling/hooks/useFunctions.tsx","webpack:///./app/utils/profiling/tableRenderer.tsx"],"sourcesContent":["import type {LineSeriesOption} from 'echarts';\n\nimport {Series} from 'sentry/types/echarts';\n\nimport AreaSeries from './series/areaSeries';\nimport BaseChart from './baseChart';\n\ntype ChartProps = Omit<React.ComponentProps<typeof BaseChart>, 'css'>;\n\nexport type AreaChartSeries = Series & Omit<LineSeriesOption, 'data' | 'name'>;\n\nexport interface AreaChartProps extends Omit<ChartProps, 'series'> {\n  series: AreaChartSeries[];\n  additionalSeries?: LineSeriesOption[];\n  stacked?: boolean;\n}\n\nexport function AreaChart({series, stacked, colors, ...props}: AreaChartProps) {\n  return (\n    <BaseChart\n      {...props}\n      data-test-id=\"area-chart\"\n      colors={colors}\n      series={series.map(({seriesName, data, ...otherSeriesProps}, i) =>\n        AreaSeries({\n          stack: stacked ? 'area' : undefined,\n          name: seriesName,\n          data: data.map(({name, value}) => [name, value]),\n          lineStyle: {\n            color: colors?.[i],\n            opacity: 1,\n            width: 0.4,\n          },\n          areaStyle: {\n            color: colors?.[i],\n            opacity: 1.0,\n          },\n          animation: false,\n          animationThreshold: 1,\n          animationDuration: 0,\n          ...otherSeriesProps,\n        })\n      )}\n    />\n  );\n}\n","import type {LineSeriesOption} from 'echarts';\n\nimport LineSeries from 'sentry/components/charts/series/lineSeries';\n\nexport default function AreaSeries(props: LineSeriesOption = {}): LineSeriesOption {\n  return LineSeries({\n    ...props,\n  });\n}\n","import 'echarts/lib/component/dataZoomSlider';\n\nimport type {SliderDataZoomComponentOption} from 'echarts';\n\nconst DEFAULT: SliderDataZoomComponentOption = {\n  realtime: false,\n  showDetail: false,\n  left: 0,\n  right: 6,\n  bottom: 8,\n};\n\nexport default function DataZoomSlider(\n  props: SliderDataZoomComponentOption | SliderDataZoomComponentOption[]\n): SliderDataZoomComponentOption[] {\n  // `props` can be boolean, if so return default\n  if (!props || !Array.isArray(props)) {\n    const dataZoom = {\n      ...DEFAULT,\n      ...props,\n    };\n    return [dataZoom];\n  }\n\n  return props;\n}\n","import {Component} from 'react';\nimport {InjectedRouter} from 'react-router';\nimport type {\n  DataZoomComponentOption,\n  InsideDataZoomComponentOption,\n  ToolboxComponentOption,\n  XAXisComponentOption,\n} from 'echarts';\nimport moment from 'moment';\nimport * as qs from 'query-string';\n\nimport {updateDateTime} from 'sentry/actionCreators/pageFilters';\nimport DataZoomInside from 'sentry/components/charts/components/dataZoomInside';\nimport DataZoomSlider from 'sentry/components/charts/components/dataZoomSlider';\nimport ToolBox from 'sentry/components/charts/components/toolBox';\nimport {DateString} from 'sentry/types';\nimport {\n  EChartChartReadyHandler,\n  EChartDataZoomHandler,\n  EChartFinishedHandler,\n  EChartRestoreHandler,\n} from 'sentry/types/echarts';\nimport {callIfFunction} from 'sentry/utils/callIfFunction';\nimport {getUtcDateString, getUtcToLocalDateObject} from 'sentry/utils/dates';\n\nconst getDate = date =>\n  date ? moment.utc(date).format(moment.HTML5_FMT.DATETIME_LOCAL_SECONDS) : null;\n\ntype Period = {\n  end: DateString;\n  period: string | null;\n  start: DateString;\n};\n\nconst ZoomPropKeys = [\n  'period',\n  'xAxis',\n  'onChartReady',\n  'onDataZoom',\n  'onRestore',\n  'onFinished',\n] as const;\n\nexport type ZoomRenderProps = Pick<Props, (typeof ZoomPropKeys)[number]> & {\n  dataZoom?: DataZoomComponentOption[];\n  end?: Date;\n  isGroupedByDate?: boolean;\n  showTimeInTooltip?: boolean;\n  start?: Date;\n  toolBox?: ToolboxComponentOption;\n  utc?: boolean;\n};\n\ntype Props = {\n  children: (props: ZoomRenderProps) => React.ReactNode;\n  chartZoomOptions?: DataZoomComponentOption;\n  disabled?: boolean;\n  end?: DateString;\n  onChartReady?: EChartChartReadyHandler;\n  onDataZoom?: EChartDataZoomHandler;\n  onFinished?: EChartFinishedHandler;\n  onRestore?: EChartRestoreHandler;\n  onZoom?: (period: Period) => void;\n  period?: string | null;\n  router?: InjectedRouter;\n  showSlider?: boolean;\n  start?: DateString;\n  usePageDate?: boolean;\n  utc?: boolean | null;\n  xAxis?: XAXisComponentOption;\n  xAxisIndex?: number | number[];\n};\n\n/**\n * This is a very opinionated component that takes a render prop through `children`. It\n * will provide props to be passed to `BaseChart` to enable support of zooming without\n * eCharts' clunky zoom toolboxes.\n *\n * This also is very tightly coupled with the Global Selection Header. We can make it more\n * generic if need be in the future.\n */\nclass ChartZoom extends Component<Props> {\n  constructor(props: Props) {\n    super(props);\n\n    // Zoom history\n    this.history = [];\n\n    // Initialize current period instance state for zoom history\n    this.saveCurrentPeriod(props);\n  }\n\n  componentDidUpdate() {\n    if (this.props.disabled) {\n      return;\n    }\n\n    // When component updates, make sure we sync current period state\n    // for use in zoom history\n    this.saveCurrentPeriod(this.props);\n  }\n\n  history: Period[];\n  currentPeriod?: Period;\n  zooming: (() => void) | null = null;\n\n  /**\n   * Save current period state from period in props to be used\n   * in handling chart's zoom history state\n   */\n  saveCurrentPeriod = props => {\n    this.currentPeriod = {\n      period: props.period,\n      start: getDate(props.start),\n      end: getDate(props.end),\n    };\n  };\n\n  /**\n   * Sets the new period due to a zoom related action\n   *\n   * Saves the current period to an instance property so that we\n   * can control URL state when zoom history is being manipulated\n   * by the chart controls.\n   *\n   * Saves a callback function to be called after chart animation is completed\n   */\n  setPeriod = ({period, start, end}, saveHistory = false) => {\n    const {router, onZoom, usePageDate} = this.props;\n    const startFormatted = getDate(start);\n    const endFormatted = getDate(end);\n\n    // Save period so that we can revert back to it when using echarts \"back\" navigation\n    if (saveHistory) {\n      this.history.push(this.currentPeriod!);\n    }\n\n    // Callback to let parent component know zoom has changed\n    // This is required for some more perceived responsiveness since\n    // we delay updating URL state so that chart animation can finish\n    //\n    // Parent container can use this to change into a loading state before\n    // URL parameters are changed\n    onZoom?.({\n      period,\n      start: startFormatted,\n      end: endFormatted,\n    });\n\n    this.zooming = () => {\n      if (usePageDate && router) {\n        const newQuery = {\n          ...router.location.query,\n          pageStart: start ? getUtcDateString(start) : undefined,\n          pageEnd: end ? getUtcDateString(end) : undefined,\n          pageStatsPeriod: period ?? undefined,\n        };\n\n        // Only push new location if query params has changed because this will cause a heavy re-render\n        if (qs.stringify(newQuery) !== qs.stringify(router.location.query)) {\n          router.push({\n            pathname: router.location.pathname,\n            query: newQuery,\n          });\n        }\n      } else {\n        updateDateTime(\n          {\n            period,\n            start: startFormatted\n              ? getUtcToLocalDateObject(startFormatted)\n              : startFormatted,\n            end: endFormatted ? getUtcToLocalDateObject(endFormatted) : endFormatted,\n          },\n          router,\n          {skipDesyncUpdate: true}\n        );\n      }\n\n      this.saveCurrentPeriod({period, start, end});\n    };\n  };\n\n  /**\n   * Enable zoom immediately instead of having to toggle to zoom\n   */\n  handleChartReady = chart => {\n    this.props.onChartReady?.(chart);\n  };\n\n  /**\n   * Restores the chart to initial viewport/zoom level\n   *\n   * Updates URL state to reflect initial params\n   */\n  handleZoomRestore = (evt, chart) => {\n    if (!this.history.length) {\n      return;\n    }\n\n    this.setPeriod(this.history[0]);\n\n    // reset history\n    this.history = [];\n\n    this.props.onRestore?.(evt, chart);\n  };\n\n  handleDataZoom = (evt, chart) => {\n    const model = chart.getModel();\n    const {startValue, endValue} = model._payload.batch[0];\n\n    // if `rangeStart` and `rangeEnd` are null, then we are going back\n    if (startValue === null && endValue === null) {\n      const previousPeriod = this.history.pop();\n\n      if (!previousPeriod) {\n        return;\n      }\n\n      this.setPeriod(previousPeriod);\n    } else {\n      const start = moment.utc(startValue);\n\n      // Add a day so we go until the end of the day (e.g. next day at midnight)\n      const end = moment.utc(endValue);\n\n      this.setPeriod({period: null, start, end}, true);\n    }\n\n    this.props.onDataZoom?.(evt, chart);\n  };\n\n  /**\n   * Chart event when *any* rendering+animation finishes\n   *\n   * `this.zooming` acts as a callback function so that\n   * we can let the native zoom animation on the chart complete\n   * before we update URL state and re-render\n   */\n  handleChartFinished = (_props, chart) => {\n    if (typeof this.zooming === 'function') {\n      this.zooming();\n      this.zooming = null;\n    }\n\n    // This attempts to activate the area zoom toolbox feature\n    const zoom = chart._componentsViews?.find(c => c._features && c._features.dataZoom);\n    if (zoom && !zoom._features.dataZoom._isZoomActive) {\n      // Calling dispatchAction will re-trigger handleChartFinished\n      chart.dispatchAction({\n        type: 'takeGlobalCursor',\n        key: 'dataZoomSelect',\n        dataZoomSelectActive: true,\n      });\n    }\n\n    callIfFunction(this.props.onFinished);\n  };\n\n  render() {\n    const {\n      utc: _utc,\n      start: _start,\n      end: _end,\n      disabled,\n      children,\n      xAxisIndex,\n\n      router: _router,\n      onZoom: _onZoom,\n      onRestore: _onRestore,\n      onChartReady: _onChartReady,\n      onDataZoom: _onDataZoom,\n      onFinished: _onFinished,\n      showSlider,\n      chartZoomOptions,\n      ...props\n    } = this.props;\n\n    const utc = _utc ?? undefined;\n    const start = _start ? getUtcToLocalDateObject(_start) : undefined;\n    const end = _end ? getUtcToLocalDateObject(_end) : undefined;\n\n    if (disabled) {\n      return children({\n        utc,\n        start,\n        end,\n        ...props,\n      });\n    }\n    const renderProps = {\n      // Zooming only works when grouped by date\n      isGroupedByDate: true,\n      onChartReady: this.handleChartReady,\n      utc,\n      start,\n      end,\n      dataZoom: showSlider\n        ? [\n            ...DataZoomSlider({xAxisIndex, ...chartZoomOptions}),\n            ...DataZoomInside({\n              xAxisIndex,\n              ...(chartZoomOptions as InsideDataZoomComponentOption),\n            }),\n          ]\n        : DataZoomInside({\n            xAxisIndex,\n            ...(chartZoomOptions as InsideDataZoomComponentOption),\n          }),\n      showTimeInTooltip: true,\n      toolBox: ToolBox(\n        {},\n        {\n          dataZoom: {\n            title: {\n              zoom: '',\n              back: '',\n            },\n            iconStyle: {\n              borderWidth: 0,\n              color: 'transparent',\n              opacity: 0,\n            },\n          },\n        }\n      ),\n      onDataZoom: this.handleDataZoom,\n      onFinished: this.handleChartFinished,\n      onRestore: this.handleZoomRestore,\n      ...props,\n    };\n\n    return children(renderProps);\n  }\n}\n\nexport default ChartZoom;\n","import Duration from 'sentry/components/duration';\nimport {defined} from 'sentry/utils';\n\ninterface DurationProps {\n  abbreviation?: boolean;\n}\n\ninterface SecondsProps extends DurationProps {\n  seconds: number;\n}\n\ninterface MillisecondsProps extends DurationProps {\n  milliseconds: number;\n}\n\ninterface NanosecondsProps extends DurationProps {\n  nanoseconds: number;\n}\n\ntype PerformanceDurationProps = SecondsProps | MillisecondsProps | NanosecondsProps;\n\nfunction isMilliseconds(props: PerformanceDurationProps): props is MillisecondsProps {\n  return defined((props as MillisecondsProps).milliseconds);\n}\n\nfunction isNanoseconds(props: PerformanceDurationProps): props is NanosecondsProps {\n  return defined((props as NanosecondsProps).nanoseconds);\n}\n\nfunction PerformanceDuration(props: PerformanceDurationProps) {\n  const normalizedSeconds = isNanoseconds(props)\n    ? props.nanoseconds / 1_000_000_000\n    : isMilliseconds(props)\n    ? props.milliseconds / 1000\n    : props.seconds;\n\n  return (\n    <Duration\n      abbreviation={props.abbreviation}\n      seconds={normalizedSeconds}\n      fixedDigits={2}\n    />\n  );\n}\n\nexport default PerformanceDuration;\n","import {useState} from 'react';\nimport styled from '@emotion/styled';\nimport {LocationDescriptor} from 'history';\n\nimport Link from 'sentry/components/links/link';\nimport {t} from 'sentry/locale';\nimport {space} from 'sentry/styles/space';\n\ntype Item = {\n  target: LocationDescriptor;\n  value: string;\n  onClick?: () => void;\n};\n\ninterface ArrayLinksProps {\n  items: Item[];\n}\n\nfunction ArrayLinks({items}: ArrayLinksProps) {\n  const [expanded, setExpanded] = useState(false);\n  const firstItem = items[0];\n\n  return (\n    <ArrayContainer expanded={expanded}>\n      {firstItem && <LinkedItem item={firstItem} />}\n      {items.length > 1 &&\n        expanded &&\n        items\n          .slice(1, items.length)\n          .map(item => <LinkedItem key={item.value} item={item} />)}\n      {items.length > 1 ? (\n        <ButtonContainer>\n          <button onClick={() => setExpanded(!expanded)}>\n            {expanded ? t('[collapse]') : t('[+%s more]', items.length - 1)}\n          </button>\n        </ButtonContainer>\n      ) : null}\n    </ArrayContainer>\n  );\n}\n\nfunction LinkedItem({item}: {item: Item}) {\n  return (\n    <ArrayItem>\n      <Link to={item.target} onClick={item?.onClick}>\n        {item.value}\n      </Link>\n    </ArrayItem>\n  );\n}\n\nconst ArrayContainer = styled('div')<{expanded: boolean}>`\n  display: flex;\n  flex-direction: ${p => (p.expanded ? 'column' : 'row')};\n`;\n\nconst ArrayItem = styled('span')`\n  flex-shrink: 1;\n  display: block;\n\n  ${p => p.theme.overflowEllipsis};\n  width: unset;\n`;\n\nconst ButtonContainer = styled('div')`\n  white-space: nowrap;\n\n  & button {\n    background: none;\n    border: 0;\n    outline: none;\n    padding: 0;\n    cursor: pointer;\n    color: ${p => p.theme.linkColor};\n    margin-left: ${space(0.5)};\n  }\n`;\n\nexport {ArrayLinks};\n","import {useCallback, useMemo} from 'react';\nimport styled from '@emotion/styled';\n\nimport Count from 'sentry/components/count';\nimport GridEditable, {\n  COL_WIDTH_UNDEFINED,\n  GridColumnOrder,\n} from 'sentry/components/gridEditable';\nimport PerformanceDuration from 'sentry/components/performanceDuration';\nimport {ArrayLinks} from 'sentry/components/profiling/arrayLinks';\nimport {t} from 'sentry/locale';\nimport {Project} from 'sentry/types';\nimport {SuspectFunction} from 'sentry/types/profiling/core';\nimport {trackAnalytics} from 'sentry/utils/analytics';\nimport {Container, NumberContainer} from 'sentry/utils/discover/styles';\nimport {getShortEventId} from 'sentry/utils/events';\nimport {generateProfileFlamechartRouteWithQuery} from 'sentry/utils/profiling/routes';\nimport {renderTableHead} from 'sentry/utils/profiling/tableRenderer';\nimport {useLocation} from 'sentry/utils/useLocation';\nimport useOrganization from 'sentry/utils/useOrganization';\n\ninterface FunctionsTableProps {\n  analyticsPageSource: 'performance_transaction' | 'profiling_transaction';\n  error: string | null;\n  functions: SuspectFunction[];\n  isLoading: boolean;\n  project: Project | undefined;\n  sort: string;\n}\n\nfunction FunctionsTable(props: FunctionsTableProps) {\n  const location = useLocation();\n  const organization = useOrganization();\n\n  const sort = useMemo(() => {\n    let column = props.sort;\n    let order: 'asc' | 'desc' = 'asc' as const;\n\n    if (props.sort.startsWith('-')) {\n      column = props.sort.substring(1);\n      order = 'desc' as const;\n    }\n\n    if (!SORTABLE_COLUMNS.has(column as any)) {\n      column = 'sum';\n    }\n\n    return {\n      key: column as TableColumnKey,\n      order,\n    };\n  }, [props.sort]);\n\n  const functions: TableDataRow[] = useMemo(() => {\n    const project = props.project;\n    if (!project) {\n      return [];\n    }\n    return props.functions.map(func => {\n      const {worst, examples, ...rest} = func;\n\n      const allExamples = examples.filter(example => example !== worst);\n      allExamples.unshift(worst);\n\n      return {\n        ...rest,\n        examples: allExamples.map(example => {\n          const profileId = example.replaceAll('-', '');\n          return {\n            value: getShortEventId(profileId),\n            onClick: () =>\n              trackAnalytics('profiling_views.go_to_flamegraph', {\n                organization,\n                source: `${props.analyticsPageSource}.suspect_functions_table`,\n              }),\n            target: generateProfileFlamechartRouteWithQuery({\n              orgSlug: organization.slug,\n              projectSlug: project.slug,\n              profileId,\n              query: {\n                // specify the frame to focus, the flamegraph will switch\n                // to the appropriate thread when these are specified\n                frameName: func.name,\n                framePackage: func.package,\n              },\n            }),\n          };\n        }),\n      };\n    });\n  }, [organization, props.project, props.functions, props.analyticsPageSource]);\n\n  const generateSortLink = useCallback(\n    (column: TableColumnKey) => {\n      if (!SORTABLE_COLUMNS.has(column)) {\n        return () => undefined;\n      }\n\n      const direction =\n        sort.key !== column ? 'desc' : sort.order === 'desc' ? 'asc' : 'desc';\n\n      return () => ({\n        ...location,\n        query: {\n          ...location.query,\n          functionsSort: `${direction === 'desc' ? '-' : ''}${column}`,\n        },\n      });\n    },\n    [location, sort]\n  );\n\n  return (\n    <GridEditable\n      isLoading={props.isLoading}\n      error={props.error}\n      data={functions}\n      columnOrder={COLUMN_ORDER.map(key => COLUMNS[key])}\n      columnSortBy={[]}\n      grid={{\n        renderHeadCell: renderTableHead({\n          currentSort: sort,\n          rightAlignedColumns: RIGHT_ALIGNED_COLUMNS,\n          sortableColumns: SORTABLE_COLUMNS,\n          generateSortLink,\n        }),\n        renderBodyCell: renderFunctionsTableCell,\n      }}\n      location={location}\n    />\n  );\n}\n\nconst RIGHT_ALIGNED_COLUMNS = new Set<TableColumnKey>([\n  'p75',\n  'p95',\n  'p99',\n  'sum',\n  'count',\n]);\nconst SORTABLE_COLUMNS = RIGHT_ALIGNED_COLUMNS;\n\nfunction renderFunctionsTableCell(\n  column: TableColumn,\n  dataRow: TableDataRow,\n  rowIndex: number,\n  columnIndex: number\n) {\n  return (\n    <ProfilingFunctionsTableCell\n      column={column}\n      dataRow={dataRow}\n      rowIndex={rowIndex}\n      columnIndex={columnIndex}\n    />\n  );\n}\n\ninterface ProfilingFunctionsTableCellProps {\n  column: TableColumn;\n  columnIndex: number;\n  dataRow: TableDataRow;\n  rowIndex: number;\n}\n\nconst EmptyValueContainer = styled('span')`\n  color: ${p => p.theme.gray300};\n`;\n\nfunction ProfilingFunctionsTableCell({\n  column,\n  dataRow,\n}: ProfilingFunctionsTableCellProps) {\n  const value = dataRow[column.key];\n\n  switch (column.key) {\n    case 'count':\n      return (\n        <NumberContainer>\n          <Count value={value} />\n        </NumberContainer>\n      );\n    case 'p75':\n    case 'p95':\n    case 'p99':\n    case 'sum':\n      return (\n        <NumberContainer>\n          <PerformanceDuration nanoseconds={value} abbreviation />\n        </NumberContainer>\n      );\n    case 'examples':\n      return <ArrayLinks items={value} />;\n    case 'name':\n    case 'package':\n      const name = value || <EmptyValueContainer>{t('Unknown')}</EmptyValueContainer>;\n      return <Container>{name}</Container>;\n    default:\n      return <Container>{value}</Container>;\n  }\n}\n\ntype TableColumnKey = keyof Omit<SuspectFunction, 'fingerprint' | 'worst'>;\n\ntype TableDataRow = Record<TableColumnKey, any>;\n\ntype TableColumn = GridColumnOrder<TableColumnKey>;\n\nconst COLUMN_ORDER: TableColumnKey[] = [\n  'name',\n  'package',\n  'count',\n  'p75',\n  'sum',\n  'examples',\n];\n\nconst COLUMNS: Record<TableColumnKey, TableColumn> = {\n  name: {\n    key: 'name',\n    name: t('Name'),\n    width: COL_WIDTH_UNDEFINED,\n  },\n  package: {\n    key: 'package',\n    name: t('Package'),\n    width: COL_WIDTH_UNDEFINED,\n  },\n  p75: {\n    key: 'p75',\n    name: t('P75 Self Time'),\n    width: COL_WIDTH_UNDEFINED,\n  },\n  p95: {\n    key: 'p95',\n    name: t('P95 Self Time'),\n    width: COL_WIDTH_UNDEFINED,\n  },\n  p99: {\n    key: 'p99',\n    name: t('P99 Self Time'),\n    width: COL_WIDTH_UNDEFINED,\n  },\n  sum: {\n    key: 'sum',\n    name: t('Total Self Time'),\n    width: COL_WIDTH_UNDEFINED,\n  },\n  count: {\n    key: 'count',\n    name: t('Occurrences'),\n    width: COL_WIDTH_UNDEFINED,\n  },\n  examples: {\n    key: 'examples',\n    name: t('Example Profiles'),\n    width: COL_WIDTH_UNDEFINED,\n  },\n};\n\nexport {FunctionsTable};\n","import {Fragment, useCallback, useMemo, useState} from 'react';\nimport {browserHistory} from 'react-router';\nimport styled from '@emotion/styled';\n\nimport {CompactSelect} from 'sentry/components/compactSelect';\nimport Pagination from 'sentry/components/pagination';\nimport {FunctionsTable} from 'sentry/components/profiling/suspectFunctions/functionsTable';\nimport {t} from 'sentry/locale';\nimport {space} from 'sentry/styles/space';\nimport {Project} from 'sentry/types';\nimport {useFunctions} from 'sentry/utils/profiling/hooks/useFunctions';\nimport {decodeScalar} from 'sentry/utils/queryString';\nimport {useLocation} from 'sentry/utils/useLocation';\nimport usePageFilters from 'sentry/utils/usePageFilters';\n\ninterface SuspectFunctionsTableProps {\n  analyticsPageSource: 'performance_transaction' | 'profiling_transaction';\n  project: Project | undefined;\n  transaction: string;\n}\n\nconst FUNCTIONS_CURSOR_NAME = 'functionsCursor';\n\nexport function SuspectFunctionsTable({\n  analyticsPageSource,\n  project,\n  transaction,\n}: SuspectFunctionsTableProps) {\n  const {selection} = usePageFilters();\n  const [functionType, setFunctionType] = useState<'application' | 'system' | 'all'>(\n    'application'\n  );\n  const location = useLocation();\n  const functionsCursor = useMemo(\n    () => decodeScalar(location.query.functionsCursor),\n    [location.query.functionsCursor]\n  );\n  const functionsSort = useMemo(\n    () => decodeScalar(location.query.functionsSort, '-sum'),\n    [location.query.functionsSort]\n  );\n\n  const handleFunctionsCursor = useCallback((cursor, pathname, query) => {\n    browserHistory.push({\n      pathname,\n      query: {...query, [FUNCTIONS_CURSOR_NAME]: cursor},\n    });\n  }, []);\n\n  const functionsQuery = useFunctions({\n    cursor: functionsCursor,\n    project,\n    query: '', // TODO: This doesnt support the same filters\n    selection,\n    transaction,\n    sort: functionsSort,\n    functionType,\n  });\n\n  return (\n    <Fragment>\n      <TableHeader>\n        <CompactSelect\n          triggerProps={{prefix: t('Suspect Functions'), size: 'xs'}}\n          value={functionType}\n          options={[\n            {\n              label: t('All'),\n              value: 'all' as const,\n            },\n            {\n              label: t('Application'),\n              value: 'application' as const,\n            },\n            {\n              label: t('System'),\n              value: 'system' as const,\n            },\n          ]}\n          onChange={({value}) => setFunctionType(value)}\n        />\n        <StyledPagination\n          pageLinks={\n            functionsQuery.isFetched\n              ? functionsQuery.data?.[2]?.getResponseHeader('Link') ?? null\n              : null\n          }\n          onCursor={handleFunctionsCursor}\n          size=\"xs\"\n        />\n      </TableHeader>\n      <FunctionsTable\n        analyticsPageSource={analyticsPageSource}\n        error={functionsQuery.isError ? functionsQuery.error.message : null}\n        isLoading={functionsQuery.isLoading}\n        functions={\n          functionsQuery.isFetched ? functionsQuery.data?.[0].functions ?? [] : []\n        }\n        project={project}\n        sort={functionsSort}\n      />\n    </Fragment>\n  );\n}\n\nconst TableHeader = styled('div')`\n  display: flex;\n  justify-content: space-between;\n  margin-bottom: ${space(1)};\n`;\n\nconst StyledPagination = styled(Pagination)`\n  margin: 0 0 0 ${space(1)};\n`;\n","import {useQuery} from '@tanstack/react-query';\n\nimport {Client, ResponseMeta} from 'sentry/api';\nimport {normalizeDateTimeParams} from 'sentry/components/organizations/pageFilters/parse';\nimport {PageFilters, Project} from 'sentry/types';\nimport {SuspectFunction} from 'sentry/types/profiling/core';\nimport {defined} from 'sentry/utils';\nimport RequestError from 'sentry/utils/requestError/requestError';\nimport {MutableSearch} from 'sentry/utils/tokenizeSearch';\nimport useApi from 'sentry/utils/useApi';\nimport useOrganization from 'sentry/utils/useOrganization';\n\ntype FunctionsResult = {\n  functions: SuspectFunction[];\n  pageLinks: string | null;\n};\n\ninterface UseFunctionsOptions {\n  project: Project | undefined;\n  query: string;\n  sort: string;\n  transaction: string | null;\n  cursor?: string;\n  enabled?: boolean;\n  functionType?: 'application' | 'system' | 'all';\n  selection?: PageFilters;\n}\n\nfunction useFunctions({\n  functionType,\n  project,\n  query,\n  transaction,\n  sort,\n  cursor,\n  selection,\n  enabled = true,\n}: UseFunctionsOptions) {\n  const api = useApi();\n  const organization = useOrganization();\n\n  const path = `/projects/${organization.slug}/${project?.slug}/profiling/functions/`;\n  const fetchFunctionsOptions = {\n    functionType,\n    query,\n    selection,\n    sort,\n    transaction,\n    cursor,\n    enabled,\n  };\n  const queryKey = [path, fetchFunctionsOptions];\n\n  const queryFn = () => {\n    if (\n      !defined(fetchFunctionsOptions.selection) ||\n      !defined(fetchFunctionsOptions.transaction) ||\n      !defined(project)\n    ) {\n      throw Error(\n        'selection, transaction and project arguments required for fetchFunctions'\n      );\n    }\n\n    return fetchFunctions(\n      api,\n      path,\n      // tsc doesn't infer the new type from the assertion above??\n      fetchFunctionsOptions as FetchFunctionsOptions\n    );\n  };\n\n  return useQuery<FetchFunctionsReturn, RequestError>({\n    queryKey,\n    queryFn,\n    refetchOnWindowFocus: false,\n    retry: false,\n    enabled,\n  });\n}\n\ninterface FetchFunctionsOptions {\n  cursor: string | undefined;\n  enabled: boolean;\n  functionType: 'application' | 'system' | 'all' | undefined;\n  query: string;\n  selection: PageFilters;\n  sort: string;\n  transaction: string;\n}\n\ntype FetchFunctionsReturn =\n  | [FunctionsResult, string | undefined, ResponseMeta | undefined]\n  | undefined;\nfunction fetchFunctions(\n  api: Client,\n  path: string,\n  {cursor, functionType, query, selection, sort, transaction}: FetchFunctionsOptions\n): Promise<FetchFunctionsReturn> {\n  const conditions = new MutableSearch(query);\n  conditions.setFilterValues('transaction_name', [transaction]);\n\n  return api.requestPromise(path, {\n    method: 'GET',\n    includeAllArgs: true,\n    query: {\n      cursor,\n      environment: selection.environments,\n      ...normalizeDateTimeParams(selection.datetime),\n      query: conditions.formatString(),\n      sort,\n      is_application:\n        functionType === 'application'\n          ? '1'\n          : functionType === 'system'\n          ? '0'\n          : undefined,\n    },\n  });\n}\nexport {useFunctions};\n","import {LocationDescriptorObject} from 'history';\n\nimport {GridColumnOrder, GridColumnSortBy} from 'sentry/components/gridEditable';\nimport SortLink from 'sentry/components/gridEditable/sortLink';\n\ninterface TableHeadProps<K> {\n  currentSort?: GridColumnSortBy<K> | null;\n  generateSortLink?: (column: K) => () => LocationDescriptorObject | undefined;\n  onClick?(column: GridColumnOrder<K>, e: React.MouseEvent<HTMLAnchorElement>): void;\n  rightAlignedColumns?: Set<K>;\n  sortableColumns?: Set<K>;\n}\n\nexport function renderTableHead<K>({\n  currentSort,\n  generateSortLink,\n  rightAlignedColumns,\n  sortableColumns,\n  onClick,\n}: TableHeadProps<K>) {\n  return function (column: GridColumnOrder<K>, _columnIndex: number) {\n    return (\n      <SortLink\n        onClick={e => onClick?.(column, e)}\n        align={rightAlignedColumns?.has(column.key) ? 'right' : 'left'}\n        title={column.name}\n        direction={currentSort?.key === column.key ? currentSort?.order : undefined}\n        canSort={sortableColumns?.has(column.key) || false}\n        generateSortLink={generateSortLink?.(column.key) ?? (() => undefined)}\n        replace\n      />\n    );\n  };\n}\n"],"names":["AreaChart","_ref","series","stacked","colors","props","_jsx","BaseChart","map","_ref2","i","seriesName","data","otherSeriesProps","arguments","length","undefined","LineSeries","AreaSeries","stack","name","_ref3","value","lineStyle","color","opacity","width","areaStyle","animation","animationThreshold","animationDuration","displayName","DEFAULT","realtime","showDetail","left","right","bottom","DataZoomSlider","Array","isArray","getDate","date","moment","format","ChartZoom","Component","constructor","_this","super","this","_defineProperty","currentPeriod","period","start","end","saveHistory","router","onZoom","usePageDate","startFormatted","endFormatted","history","push","zooming","newQuery","location","query","pageStart","getUtcDateString","pageEnd","pageStatsPeriod","qs","pathname","updateDateTime","getUtcToLocalDateObject","skipDesyncUpdate","saveCurrentPeriod","chart","onChartReady","evt","setPeriod","onRestore","model","getModel","startValue","endValue","_payload","batch","previousPeriod","pop","onDataZoom","_props","zoom","_componentsViews","find","c","_features","dataZoom","_isZoomActive","dispatchAction","type","key","dataZoomSelectActive","callIfFunction","onFinished","componentDidUpdate","disabled","render","utc","_utc","_start","_end","children","xAxisIndex","_router","_onZoom","_onRestore","_onChartReady","_onDataZoom","_onFinished","showSlider","chartZoomOptions","isGroupedByDate","handleChartReady","DataZoomInside","showTimeInTooltip","toolBox","ToolBox","title","back","iconStyle","borderWidth","handleDataZoom","handleChartFinished","handleZoomRestore","PerformanceDuration","normalizedSeconds","defined","nanoseconds","isNanoseconds","milliseconds","isMilliseconds","seconds","Duration","abbreviation","fixedDigits","ArrayLinks","items","expanded","setExpanded","useState","firstItem","_jsxs","ArrayContainer","LinkedItem","item","slice","ButtonContainer","onClick","t","ArrayItem","Link","to","target","_styled","p","theme","overflowEllipsis","linkColor","space","FunctionsTable","useLocation","organization","useOrganization","sort","useMemo","column","order","startsWith","substring","SORTABLE_COLUMNS","has","functions","project","func","worst","examples","rest","allExamples","filter","example","unshift","profileId","replaceAll","getShortEventId","trackAnalytics","source","analyticsPageSource","generateProfileFlamechartRouteWithQuery","orgSlug","slug","projectSlug","frameName","framePackage","package","generateSortLink","useCallback","direction","functionsSort","GridEditable","isLoading","error","columnOrder","COLUMN_ORDER","COLUMNS","columnSortBy","grid","renderHeadCell","renderTableHead","currentSort","rightAlignedColumns","RIGHT_ALIGNED_COLUMNS","sortableColumns","renderBodyCell","renderFunctionsTableCell","Set","dataRow","rowIndex","columnIndex","ProfilingFunctionsTableCell","EmptyValueContainer","gray300","NumberContainer","Count","Container","COL_WIDTH_UNDEFINED","p75","p95","p99","sum","count","FUNCTIONS_CURSOR_NAME","SuspectFunctionsTable","transaction","selection","usePageFilters","functionType","setFunctionType","functionsCursor","decodeScalar","handleFunctionsCursor","cursor","browserHistory","functionsQuery","useFunctions","Fragment","TableHeader","CompactSelect","triggerProps","prefix","size","options","label","onChange","StyledPagination","pageLinks","isFetched","getResponseHeader","onCursor","isError","message","Pagination","enabled","api","useApi","path","fetchFunctionsOptions","queryKey","useQuery","queryFn","Error","conditions","MutableSearch","setFilterValues","requestPromise","method","includeAllArgs","environment","environments","normalizeDateTimeParams","datetime","formatString","is_application","fetchFunctions","refetchOnWindowFocus","retry","_columnIndex","SortLink","e","align","canSort","replace"],"sourceRoot":""}