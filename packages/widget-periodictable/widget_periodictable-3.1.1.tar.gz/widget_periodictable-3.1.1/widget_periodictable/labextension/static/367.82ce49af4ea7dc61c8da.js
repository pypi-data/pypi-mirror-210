(self.webpackChunkwidget_periodictable=self.webpackChunkwidget_periodictable||[]).push([[367],{657:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MODULE_NAME=t.MODULE_VERSION=void 0;const l=n(147);t.MODULE_VERSION=l.version,t.MODULE_NAME=l.name},367:function(e,t,n){"use strict";var l=this&&this.__createBinding||(Object.create?function(e,t,n,l){void 0===l&&(l=n),Object.defineProperty(e,l,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,l){void 0===l&&(l=n),e[l]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&l(t,e,n);return i(t,e),t},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.MCPTableView=t.MCPTableModel=void 0;const o=n(829),d=n(657),a=s(n(794)),c=r(n(755));n(78);const b=[["H","","","","","","","","","","","","","","","","","He"],["Li","Be","","","","","","","","","","","B","C","N","O","F","Ne"],["Na","Mg","","","","","","","","","","","Al","Si","P","S","Cl","Ar"],["K","Ca","Sc","Ti","V","Cr","Mn","Fe","Co","Ni","Cu","Zn","Ga","Ge","As","Se","Br","Kr"],["Rb","Sr","Y","Zr","Nb","Mo","Tc","Ru","Rh","Pd","Ag","Cd","In","Sn","Sb","Te","I","Xe"],["Cs","Ba","*","Hf","Ta","W","Re","Os","Ir","Pt","Au","Hg","Tl","Pb","Bi","Po","At","Rn"],["Fr","Ra","#","Rf","Db","Sg","Bh","Hs","Mt","Ds","Rg","Cn","Nh","Fi","Mc","Lv","Ts","Og"],["","","","","","","","","","","","","","","","","",""],["","","*","La","Ce","Pr","Nd","Pm","Sm","Eu","Gd","Tb","Dy","Ho","Er","Tm","Yb","Lu"],["","","#","Ac","Th","Pa","U","Np","Pu","Am","Cm","Bk","Cf","Es","Fm","Md","No","Lr"]],u=[];for(const e of b)for(const t of e)""!==t&&"*"!==t&&u.push(t);class p extends o.DOMWidgetModel{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:p.model_name,_model_module:p.model_module,_model_module_version:p.model_module_version,_view_name:p.view_name,_view_module:p.view_module,_view_module_version:p.view_module_version,value:"Hello World"})}}t.MCPTableModel=p,p.serializers=Object.assign({},o.DOMWidgetModel.serializers),p.model_name="MCPTableModel",p.model_module=d.MODULE_NAME,p.model_module_version=d.MODULE_VERSION,p.view_name="MCPTableView",p.view_module=d.MODULE_NAME,p.view_module_version=d.MODULE_VERSION;class m extends o.DOMWidgetView{constructor(){super(...arguments),this.tableTemplate=a.template('<% for (let elementRow of elementTable) { print("<div class=\'periodic-table-row\'>"); for (let elementName of elementRow) { if ( (elementName === "") || (elementName == "*" ) || (elementName == "#" ) ) { %>  <span class="periodic-table-empty noselect" style="width: <%= elementWidth %>; height: <%= elementWidth %>;"><%= elementName %></span><% } else { %>  <span class="<% if (disabledElements.includes(elementName)) { print(" periodic-table-disabled"); } else { print(" periodic-table-entry"); }%>  noselect element-<%= elementName %><% if (selectedElements.includes(elementName) && (! disabledElements.includes(elementName)) ) { print(" elementOn"); } %>" style="width: <%= elementWidth %>; height: <%= elementWidth %>; border-color: <% if (disabled) { colors = borderColor.replace(/[^\\d,]/g, "").split(","); red = Math.round(255 - 0.38 * ( 255 - parseInt(colors[0], 10) )); green = Math.round(255 - 0.38 * ( 255 - parseInt(colors[1], 10) )); blue = Math.round(255 - 0.38 * ( 255 - parseInt(colors[2], 10) )); print("rgb(" + red.toString(10) + "," + green.toString(10) + "," + blue.toString(10) + ")"); } else { print(borderColor); } %>; background-color: <% if (disabledElements.includes(elementName)) { color = disabledColor; } else if (selectedElements.includes(elementName)) { i = selectedElements.indexOf(elementName); color = selectedColors[selectedStates[i]]; } else { color = unselectedColor; } if (disabled) { colors = color.replace(/[^\\d,]/g, "").split(","); red = Math.round(255 - 0.38 * ( 255 - parseInt(colors[0], 10) )); green = Math.round(255 - 0.38 * ( 255 - parseInt(colors[1], 10) )); blue = Math.round(255 - 0.38 * ( 255 - parseInt(colors[2], 10) )); print("rgb(" + red.toString(10) + "," + green.toString(10) + "," + blue.toString(10) + ")"); } else { print(color); } %>"><% print(displayNamesReplacements[elementName] || elementName); %></span><% } }; print("</div>"); } %>')}render(){this.rerenderScratch(),this.model.on("change:selected_elements",this.rerenderScratch,this),this.model.on("change:disabled_elements",this.rerenderScratch,this),this.model.on("change:display_names_replacements",this.rerenderScratch,this),this.model.on("change:border_color",this.rerenderScratch,this),this.model.on("change:width",this.rerenderScratch,this),this.model.on("change:disabled",this.rerenderScratch,this)}events(){return{"click .periodic-table-entry":"toggleElement","click .periodic-table-disabled":"toggleElement"}}toggleElement(e){const t=a.map(e.target.classList,(e=>e)),n=a.chain(t).filter((e=>e.startsWith("element-"))).map((e=>e.slice(8))).first().value(),l=a.includes(t,"elementOn"),i=a.includes(t,"periodic-table-disabled"),s=this.model.get("states");if(!this.model.get("disabled")&&void 0!==n){const t=this.model.get("selected_elements");let r=[];const o=[];for(const e in t)r.push(e),o.push(t[e]);const d=r.indexOf(n);if(l)o[d]<s-1?(o[d]++,t[n]=o[d]):(r=a.without(r,n),o.splice(d,1),delete t[n],e.target.classList.remove("elementOn"));else{if(i)return;r.push(n),o.push(0),t[n]=0,e.target.classList.add("elementOn")}this.model.set("selected_elements",{Du:0}),this.touch(),this.model.set("selected_elements",t),this.touch()}}rerenderScratch(){const e=this.model.get("selected_elements"),t=this.model.get("disabled_elements"),n=this.model.get("disabled_color"),l=this.model.get("unselected_color"),i=this.model.get("selected_colors").slice(),s=this.model.get("width"),r=this.model.get("border_color");let o=[];const d=[];if("Du"in e)return;for(const t in e)o.push(t),d.push(e[t]);if(o.length!==d.length)return;const c=o.length;if(o=a.difference(o,t),o=a.intersection(o,u),o.length!==c){for(const t in e)o.includes(t)||delete e[t];this.model.set("selected_elements",e),this.touch()}this.el.innerHTML='<div class="periodic-table-body">'+this.tableTemplate({elementTable:b,displayNamesReplacements:this.model.get("display_names_replacements"),selectedElements:o,disabledElements:t,disabledColor:n,unselectedColor:l,selectedColors:i,selectedStates:d,elementWidth:s,borderColor:r,disabled:this.model.get("disabled")})+"</div>"}renderBorder(){const e=document.getElementsByClassName("periodic-table-entry"),t=this.model.get("border_color");for(let n=0;n<e.length;n++)e[n].style.border="1px solid "+t}renderWidth(){const e=document.getElementsByClassName("periodic-table-entry"),t=document.getElementsByClassName("periodic-table-disabled"),n=document.getElementsByClassName("periodic-table-empty"),l=this.model.get("width");let i=14;i=Number.parseFloat(l.slice(0,-2))/38*14,c.default("body").css("font-size",String(i)+"px");for(let t=0;t<e.length;t++)e[t].style.width=l,e[t].style.height=l;for(let e=0;e<t.length;e++)t[e].style.width=l,t[e].style.height=l;for(let e=0;e<n.length;e++)n[e].style.width=l,n[e].style.height=l}}t.MCPTableView=m},85:(e,t,n)=>{(t=n(645)(!1)).push([e.id,".periodic-table-entry {\n    border: 1px solid;\n    border-color: #cc7777;\n    border-radius: 3px;\n    width: 38px;\n    height: 38px;\n    display: table-cell;\n    text-align: center;\n    vertical-align: middle;\n    background-color: #ffaaaa;\n}\n\n.periodic-table-disabled {\n    border-radius: 3px;\n    width: 38px;\n    height: 38px;\n    display: table-cell;\n    text-align: center;\n    vertical-align: middle;\n    background-color: #999999;\n}\n\n.periodic-table-empty {\n    border: 0px;\n    width: 38px;\n    height: 38px;\n    display: table-cell;\n    text-align: center;\n    vertical-align: middle;\n}\n\n.periodic-table-row {\n    display: table-row;\n}\n\n.periodic-table-body {\n    display: table; border-spacing: 4px;\n}\n\n.periodic-table-entry:hover {\n    background-color: #cc7777;\n}\n\n.periodic-table-entry.elementOn {\n    background-color: #aaaaff;\n    border: 1px solid #7777cc;\n    border-radius: 4px;\n}\n\n\n.periodic-table-entry.elementOn:hover {\n    background-color: #7777cc;\n    border: 1px solid #7777cc;\n    border-radius: 4px;\n}\n\n.noselect {\n    -webkit-touch-callout: none; /* iOS Safari */\n      -webkit-user-select: none; /* Safari */\n       -khtml-user-select: none; /* Konqueror HTML */\n         -moz-user-select: none; /* Firefox */\n          -ms-user-select: none; /* Internet Explorer/Edge */\n              user-select: none; /* Non-prefixed version, currently\n                                    supported by Chrome and Opera */\n  }\n",""]),e.exports=t},78:(e,t,n)=>{var l=n(379),i=n(85);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.id,i,""]]);l(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},147:e=>{"use strict";e.exports=JSON.parse('{"name":"widget_periodictable","version":"3.1.0","description":"A jupyter widget for a interactive periodic table.","keywords":["jupyter","jupyterlab","jupyterlab-extension","widgets"],"files":["lib/**/*.js","dist/*.js","css/*.css"],"homepage":"https://github.com/osscar-org/widget-periodictable","bugs":{"url":"https://github.com/osscar-org/widget-periodictable/issues"},"license":"BSD-3-Clause","author":{"name":"Dou Du,Casper Welzel Andersen and Giovanni Pizzi","email":"dou.du@epfl.ch"},"main":"lib/index.js","types":"./lib/index.d.ts","repository":{"type":"git","url":"https://github.com/osscar-org/widget-periodictable"},"scripts":{"build":"yarn run build:lib && yarn run build:nbextension && yarn run build:labextension:dev","build:prod":"yarn run build:lib && yarn run build:nbextension && yarn run build:labextension","build:labextension":"jupyter labextension build .","build:labextension:dev":"jupyter labextension build --development True .","build:lib":"tsc","build:nbextension":"webpack","clean":"yarn run clean:lib && yarn run clean:nbextension && yarn run clean:labextension","clean:lib":"rimraf lib","clean:labextension":"rimraf widget_periodictable/labextension","clean:nbextension":"rimraf widget_periodictable/nbextension/static/index.js","lint":"eslint . --ext .ts,.tsx --fix","lint:check":"eslint . --ext .ts,.tsx","prepack":"yarn run build:lib","test":"jest","watch":"npm-run-all -p watch:*","watch:lib":"tsc -w","watch:nbextension":"webpack --watch --mode=development","watch:labextension":"jupyter labextension watch ."},"dependencies":{"@jupyter-widgets/base":"^1.1.10 || ^2 || ^3 || ^4 || ^5 || ^6"},"devDependencies":{"@babel/core":"^7.21.8","@babel/preset-env":"^7.21.5","@jupyter-widgets/base-manager":"^1.0.5","@jupyterlab/builder":"^4.0.0","@lumino/application":"^2.1.1","@lumino/widgets":"^2.1.1","@types/jest":"^26.0.0","@types/webpack-env":"^1.13.6","@typescript-eslint/eslint-plugin":"^3.6.0","@typescript-eslint/parser":"^3.6.0","acorn":"^8.8.2","css-loader":"^3.2.0","eslint":"^7.4.0","eslint-config-prettier":"^6.11.0","eslint-plugin-prettier":"^3.1.4","fs-extra":"^7.0.0","identity-obj-proxy":"^3.0.0","jest":"^26.0.0","mkdirp":"^0.5.1","npm-run-all":"^4.1.3","prettier":"^2.0.5","rimraf":"^2.6.2","source-map-loader":"^1.1.3","style-loader":"^1.0.0","ts-jest":"^26.0.0","ts-loader":"^8.0.0","typescript":"~4.1.3","webpack":"^5.61.0","webpack-cli":"^4.0.0"},"jupyterlab":{"extension":"lib/plugin","outputDir":"widget_periodictable/labextension/","sharedPackages":{"@jupyter-widgets/base":{"bundled":false,"singleton":true}}}}')}}]);