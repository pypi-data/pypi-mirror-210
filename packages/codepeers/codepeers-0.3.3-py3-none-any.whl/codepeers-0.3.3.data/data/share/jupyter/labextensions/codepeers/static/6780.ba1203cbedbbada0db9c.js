(self.webpackChunkcodepeers=self.webpackChunkcodepeers||[]).push([[6780],{92703:(e,t,r)=>{"use strict";var n=r(50414);function s(){}function i(){}i.resetWarningCache=s,e.exports=function(){function e(e,t,r,s,i,o){if(o!==n){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:s};return r.PropTypes=r,r}},45697:(e,t,r)=>{e.exports=r(92703)()},50414:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},46780:(e,t,r)=>{"use strict";r.r(t),r.d(t,{ActionTypes:()=>C,Async:()=>P,FetchError:()=>D,IfFulfilled:()=>m,IfInitial:()=>h,IfPending:()=>f,IfRejected:()=>b,IfSettled:()=>y,StatusTypes:()=>g,createInstance:()=>_,default:()=>L,dispatchMiddleware:()=>A,globalScope:()=>i,init:()=>F,neverSettle:()=>R,reducer:()=>O,useAsync:()=>S,useFetch:()=>I});var n=r(56271),s=r.n(n);const i="object"==typeof self&&self.self===self?self:"object"==typeof r.g&&r.g.global===r.g||"object"==typeof r.g&&r.g.GLOBAL===r.g?r.g:{};i.__REACT_ASYNC__=i.__REACT_ASYNC__||{};const o=()=>{};class a{constructor(){this.abort=o,this.signal={}}}let c;try{c=r(45697)}catch(e){}const l=c&&c.oneOfType([c.node,c.func]),u=c&&c.shape({initialValue:c.any,data:c.any,error:c.instanceOf(Error),value:c.any,startedAt:c.instanceOf(Date),finishedAt:c.instanceOf(Date),status:c.oneOf(["initial","pending","fulfilled","rejected"]),isInitial:c.bool,isPending:c.bool,isLoading:c.bool,isFulfilled:c.bool,isResolved:c.bool,isRejected:c.bool,isSettled:c.bool,counter:c.number,promise:c.instanceOf(Promise),run:c.func,reload:c.func,cancel:c.func,setData:c.func,setError:c.func});var d=c&&{Async:{children:l,promise:c.instanceOf(Promise),promiseFn:c.func,deferFn:c.func,watch:c.any,watchFn:c.func,initialValue:c.any,onResolve:c.func,onReject:c.func,reducer:c.func,dispatcher:c.func,debugLabel:c.string,suspense:c.bool},Initial:{children:l,state:u.isRequired,persist:c.bool},Pending:{children:l,state:u.isRequired,initial:c.bool},Fulfilled:{children:l,state:u.isRequired,persist:c.bool},Rejected:{children:l,state:u.isRequired,persist:c.bool},Settled:{children:l,state:u.isRequired,persist:c.bool}};const p=(e,...t)=>"function"==typeof e?e(...t):e,h=({children:e,persist:t,state:r={}})=>s().createElement(s().Fragment,null,r.isInitial||t&&!r.data?p(e,r):null),f=({children:e,initial:t,state:r={}})=>s().createElement(s().Fragment,null,!r.isPending||t&&r.value?null:p(e,r)),m=({children:e,persist:t,state:r={}})=>s().createElement(s().Fragment,null,r.isFulfilled||t&&r.data?p(e,r.data,r):null),b=({children:e,persist:t,state:r={}})=>s().createElement(s().Fragment,null,r.isRejected||t&&r.error?p(e,r.error,r):null),y=({children:e,persist:t,state:r={}})=>s().createElement(s().Fragment,null,r.isSettled||t&&r.value?p(e,r):null);var g;d&&(h.propTypes=d.Initial,f.propTypes=d.Pending,m.propTypes=d.Fulfilled,b.propTypes=d.Rejected,y.propTypes=d.Settled),function(e){e.initial="initial",e.pending="pending",e.fulfilled="fulfilled",e.rejected="rejected"}(g||(g={}));const j=(e,t)=>e instanceof Error?g.rejected:void 0!==e?g.fulfilled:t?g.pending:g.initial,v=e=>({status:e,isInitial:e===g.initial,isPending:e===g.pending,isLoading:e===g.pending,isFulfilled:e===g.fulfilled,isResolved:e===g.fulfilled,isRejected:e===g.rejected,isSettled:e===g.fulfilled||e===g.rejected}),E=function(){};Object.setPrototypeOf?Object.setPrototypeOf(E,Promise):E.__proto__=Promise,E.prototype=Object.assign(Object.create(Promise.prototype),{finally(){return this},catch(){return this},then(){return this}});const R=new E;var C;!function(e){e.start="start",e.cancel="cancel",e.fulfill="fulfill",e.reject="reject"}(C||(C={}));const F=({initialValue:e,promise:t,promiseFn:r})=>({initialValue:e,data:e instanceof Error?void 0:e,error:e instanceof Error?e:void 0,value:e,startedAt:t||r?new Date:void 0,finishedAt:e?new Date:void 0,...v(j(e,t||r)),counter:0,promise:R}),O=(e,t)=>{switch(t.type){case C.start:return{...e,startedAt:new Date,finishedAt:void 0,...v(g.pending),counter:t.meta.counter,promise:t.meta.promise};case C.cancel:return{...e,startedAt:void 0,finishedAt:void 0,...v((r=e.error||e.data,r instanceof Error?g.rejected:void 0!==r?g.fulfilled:g.initial)),counter:t.meta.counter,promise:t.meta.promise};case C.fulfill:return{...e,data:t.payload,value:t.payload,error:void 0,finishedAt:new Date,...v(g.fulfilled),promise:t.meta.promise};case C.reject:return{...e,error:t.payload,value:t.payload,finishedAt:new Date,...v(g.rejected),promise:t.meta.promise};default:return e}var r},A=e=>(t,...r)=>{e(t,...r),t.type===C.start&&"function"==typeof t.payload&&t.payload()};class w extends s().Component{}function _(e={},t="Async"){const{Consumer:r,Provider:n}=s().createContext(void 0);function o({children:e}){return s().createElement(r,null,(t=>{if(!t)throw new Error("this component should only be used within an associated <Async> component!");return e(t)}))}class c extends s().Component{constructor(t){super(t),this.mounted=!1,this.counter=0,this.args=[],this.promise=R,this.abortController=new a,this.start=this.start.bind(this),this.load=this.load.bind(this),this.run=this.run.bind(this),this.cancel=this.cancel.bind(this),this.onResolve=this.onResolve.bind(this),this.onReject=this.onReject.bind(this),this.setData=this.setData.bind(this),this.setError=this.setError.bind(this);const r=t.promise,n=t.promiseFn||e.promiseFn,s=t.initialValue||e.initialValue;this.state={...F({initialValue:s,promise:r,promiseFn:n}),cancel:this.cancel,run:this.run,reload:()=>{this.load(),this.run(...this.args)},setData:this.setData,setError:this.setError},this.debugLabel=t.debugLabel||e.debugLabel;const{devToolsDispatcher:o}=i.__REACT_ASYNC__,c=t.reducer||e.reducer,l=t.dispatcher||e.dispatcher||o,u=c?(e,t)=>c(e,t,O):O,d=A(((e,t)=>{this.setState((t=>u(t,e)),t)}));this.dispatch=l?e=>l(e,d,t):d}componentDidMount(){this.mounted=!0,!this.props.promise&&this.state.initialValue||this.load()}componentDidUpdate(t){const{watch:r,watchFn:n=e.watchFn,promise:s,promiseFn:i}=this.props;return r!==t.watch||n&&n({...e,...this.props},{...e,...t})?(this.counter&&this.cancel(),this.load()):s!==t.promise&&(this.counter&&this.cancel(),s)||i!==t.promiseFn&&(this.counter&&this.cancel(),i)?this.load():void 0}componentWillUnmount(){this.cancel(),this.mounted=!1}getMeta(e){return{counter:this.counter,promise:this.promise,debugLabel:this.debugLabel,...e}}start(e){return"AbortController"in i&&(this.abortController.abort(),this.abortController=new i.AbortController),this.counter++,this.promise=new Promise(((t,r)=>{this.mounted&&this.dispatch({type:C.start,payload:()=>e().then(t,r),meta:this.getMeta()})}))}load(){const t=this.props.promise,r=this.props.promiseFn||e.promiseFn;if(t)this.start((()=>t)).then(this.onResolve(this.counter)).catch(this.onReject(this.counter));else if(r){const t={...e,...this.props};this.start((()=>r(t,this.abortController))).then(this.onResolve(this.counter)).catch(this.onReject(this.counter))}}run(...t){const r=this.props.deferFn||e.deferFn;if(r){this.args=t;const n={...e,...this.props};return this.start((()=>r(t,n,this.abortController))).then(this.onResolve(this.counter),this.onReject(this.counter))}}cancel(){const t=this.props.onCancel||e.onCancel;t&&t(),this.counter++,this.abortController.abort(),this.mounted&&this.dispatch({type:C.cancel,meta:this.getMeta()})}onResolve(t){return r=>{if(this.counter===t){const t=this.props.onResolve||e.onResolve;this.setData(r,(()=>t&&t(r)))}return r}}onReject(t){return r=>{if(this.counter===t){const t=this.props.onReject||e.onReject;this.setError(r,(()=>t&&t(r)))}return r}}setData(e,t){return this.mounted&&this.dispatch({type:C.fulfill,payload:e,meta:this.getMeta()},t),e}setError(e,t){return this.mounted&&this.dispatch({type:C.reject,payload:e,error:!0,meta:this.getMeta()},t),e}render(){const{children:e,suspense:t}=this.props;if(t&&this.state.isPending&&this.promise!==R)throw this.promise;if("function"==typeof e){const t=e;return s().createElement(n,{value:this.state},t(this.state))}return null!=e?s().createElement(n,{value:this.state},e):null}}d&&(c.propTypes=d.Async);const l=e=>s().createElement(o,null,(t=>s().createElement(h,Object.assign({},e,{state:t})))),u=e=>s().createElement(o,null,(t=>s().createElement(f,Object.assign({},e,{state:t})))),p=e=>s().createElement(o,null,(t=>s().createElement(m,Object.assign({},e,{state:t})))),g=e=>s().createElement(o,null,(t=>s().createElement(b,Object.assign({},e,{state:t})))),j=e=>s().createElement(o,null,(t=>s().createElement(y,Object.assign({},e,{state:t}))));return l.displayName=`${t}.Initial`,u.displayName=`${t}.Pending`,p.displayName=`${t}.Fulfilled`,g.displayName=`${t}.Rejected`,j.displayName=`${t}.Settled`,Object.assign(c,{displayName:t,Initial:l,Pending:u,Loading:u,Fulfilled:p,Resolved:p,Rejected:g,Settled:j})}var P=_();function T(e,t){const r="function"==typeof e?{...t,promiseFn:e}:e,s=(0,n.useRef)(0),c=(0,n.useRef)(!0),l=(0,n.useRef)(void 0),u=(0,n.useRef)(r),d=(0,n.useRef)(R),p=(0,n.useRef)(new a),{devToolsDispatcher:h}=i.__REACT_ASYNC__,{reducer:f,dispatcher:m=h}=r,[b,y]=(0,n.useReducer)(f?(e,t)=>f(e,t,O):O,r,F),g=(0,n.useCallback)(m?e=>m(e,A(y),u.current):A(y),[m]),{debugLabel:j}=r,v=(0,n.useCallback)((e=>({counter:s.current,promise:d.current,debugLabel:j,...e})),[j]),E=(0,n.useCallback)(((e,t=o)=>(c.current&&(g({type:C.fulfill,payload:e,meta:v()}),t()),e)),[g,v]),w=(0,n.useCallback)(((e,t=o)=>(c.current&&(g({type:C.reject,payload:e,error:!0,meta:v()}),t()),e)),[g,v]),{onResolve:_,onReject:P}=r,T=(0,n.useCallback)((e=>t=>e===s.current&&E(t,(()=>_&&_(t)))),[E,_]),D=(0,n.useCallback)((e=>t=>e===s.current&&w(t,(()=>P&&P(t)))),[w,P]),k=(0,n.useCallback)((e=>("AbortController"in i&&(p.current.abort(),p.current=new i.AbortController),s.current++,d.current=new Promise(((t,r)=>{c.current&&g({type:C.start,payload:()=>e().then(t,r),meta:v()})})))),[g,v]),{promise:S,promiseFn:I,initialValue:L}=r,N=(0,n.useCallback)((()=>{const e=L&&0===s.current;S?k((()=>S)).then(T(s.current)).catch(D(s.current)):I&&!e&&k((()=>I(u.current,p.current))).then(T(s.current)).catch(D(s.current))}),[k,S,I,L,T,D]),{deferFn:V}=r,$=(0,n.useCallback)(((...e)=>{V&&(l.current=e,k((()=>V(e,u.current,p.current))).then(T(s.current)).catch(D(s.current)))}),[k,V,T,D]),x=(0,n.useCallback)((()=>{l.current?$(...l.current):N()}),[$,N]),{onCancel:M}=r,q=(0,n.useCallback)((()=>{M&&M(),s.current++,p.current.abort(),c.current&&g({type:C.cancel,meta:v()})}),[M,g,v]),{watch:U,watchFn:Y}=r;if((0,n.useEffect)((()=>{Y&&u.current&&Y(r,u.current)&&(u.current=r,N())})),(0,n.useEffect)((()=>{u.current=r}),[r]),(0,n.useEffect)((()=>{s.current&&q(),(S||I)&&N()}),[S,I,U]),(0,n.useEffect)((()=>()=>{c.current=!1}),[]),(0,n.useEffect)((()=>()=>q()),[]),(0,n.useDebugValue)(b,(({status:e})=>`[${s.current}] ${e}`)),r.suspense&&b.isPending&&d.current!==R)throw d.current;return(0,n.useMemo)((()=>({...b,run:$,reload:x,cancel:q,setData:E,setError:w})),[b,$,x,q,E,w])}class D extends Error{constructor(e){super(`${e.status} ${e.statusText}`),this.response=e,Object.setPrototypeOf&&Object.setPrototypeOf(this,D.prototype)}}const k=()=>{throw new Error("useAsync requires React v16.8 or up. Upgrade your React version or use the <Async> component instead.")};var S=n.useEffect?T:k;const I=n.useEffect?function(e,t,{defer:r,json:s,...o}={}){const a=e.method||t&&t.method,c=e.headers||t&&t.headers||{},l=c.Accept||c.accept||c.get&&c.get("accept"),u=(e,t)=>i.fetch(e,t).then(((e,t)=>r=>r.ok?"boolean"==typeof t?t?r.json():r:"application/json"===e?r.json():r:Promise.reject(new D(r)))(l,s)),d="boolean"==typeof r?r:-1!==["POST","PUT","PATCH","DELETE"].indexOf(a),p=d?"deferFn":"promiseFn",h=JSON.stringify({resource:e,init:t,isDefer:d}),f=(0,n.useCallback)(((r,{signal:n})=>u(e,{signal:n,...t})),[h]),m=(0,n.useCallback)((function([r],n,{signal:s}){if(!r||"object"==typeof(i=r)&&"preventDefault"in i)return u(e,{signal:s,...t});var i;if("function"==typeof r){const{resource:n,...i}=r({resource:e,signal:s,...t});return u(n||e,{signal:s,...i})}const{resource:o,...a}=r;return u(o||e,{signal:s,...t,...a})}),[h]),b=T({...o,[p]:d?m:f});return(0,n.useDebugValue)(b,(({counter:e,status:t})=>`[${e}] ${t}`)),b}:k,L=P}}]);